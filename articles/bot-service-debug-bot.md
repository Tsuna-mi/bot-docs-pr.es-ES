---
title: Depuración de un bot creado con Bot Service | Microsoft Docs
description: Obtenga información sobre cómo depurar un bot creado con Bot Service.
author: v-ducvo
ms.author: v-ducvo
keywords: SDK de Bot Builder, implementación continua, App Service, emulador
manager: kamrani
ms.topic: article
ms.prod: bot-framework
ms.date: 07/13/2018
ms.openlocfilehash: 5e7fc6fa4fbce9b13d74d5dc7877de44840c51e6
ms.sourcegitcommit: dcbc8ad992a3e242a11ebcdf0ee99714d919a877
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 07/30/2018
ms.locfileid: "39352884"
---
# <a name="debug-a-bot-service-bot"></a><span data-ttu-id="928b0-104">Depuración de un bot de Bot Service</span><span class="sxs-lookup"><span data-stu-id="928b0-104">Debug a Bot Service bot</span></span>

<span data-ttu-id="928b0-105">En este artículo se describe cómo depurar el bot mediante un entorno de desarrollo integrado (IDE), como Visual Studio o Visual Studio Code, y el emulador de Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="928b0-105">This article describes how to debug your bot using an integrated development environment (IDE) such as Visual Studio or Visual Studio Code and the Bot Framework Emulator.</span></span> <span data-ttu-id="928b0-106">Aunque estos métodos se pueden usar para depurar cualquier bot localmente, en este artículo se usa el **EchoBot** creado en el artículo [Creación de un bot con Bot Service](bot-service-quickstart.md).</span><span class="sxs-lookup"><span data-stu-id="928b0-106">While you can use these methods to debug any bot locally, this article uses the **EchoBot** created through the article [Create a bot with Bot Service](bot-service-quickstart.md).</span></span>

## <a name="debug-a-javascript-bot"></a><span data-ttu-id="928b0-107">Depurar un bot de JavaScript</span><span class="sxs-lookup"><span data-stu-id="928b0-107">Debug a JavaScript bot</span></span>

<span data-ttu-id="928b0-108">Siga los pasos descritos en esta sección para depurar un bot escrito en JavaScript.</span><span class="sxs-lookup"><span data-stu-id="928b0-108">Follow the steps in this section to debug a bot written in JavaScript.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="928b0-109">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="928b0-109">Prerequisites</span></span>

<span data-ttu-id="928b0-110">Antes de poder depurar un bot de JavaScript, debe completar estas tareas.</span><span class="sxs-lookup"><span data-stu-id="928b0-110">Before you can debug your JavaScript bot, you must complete these tasks.</span></span>

- <span data-ttu-id="928b0-111">Descargue el código fuente del bot (desde Azure), como se describe en [Descarga del código fuente del bot](bot-service-build-download-source-code.md?#download-bot-source-code).</span><span class="sxs-lookup"><span data-stu-id="928b0-111">Download the source code for your bot (from Azure), as described in [Download bot source code](bot-service-build-download-source-code.md?#download-bot-source-code).</span></span>
- <span data-ttu-id="928b0-112">Descargue e instale el [emulador de Bot Framework](https://github.com/Microsoft/BotFramework-Emulator/releases).</span><span class="sxs-lookup"><span data-stu-id="928b0-112">Download and install the [Bot Framework Emulator](https://github.com/Microsoft/BotFramework-Emulator/releases).</span></span>
- <span data-ttu-id="928b0-113">Descargue e instale un editor de código como <a href="https://code.visualstudio.com" target="_blank">Visual Studio Code</a>.</span><span class="sxs-lookup"><span data-stu-id="928b0-113">Download and install a code editor such as <a href="https://code.visualstudio.com" target="_blank">Visual Studio Code</a>.</span></span>

### <a name="debug-a-javascript-bot-using-command-line-and-emulator"></a><span data-ttu-id="928b0-114">Depurar un bot de JavaScript mediante la línea de comandos y el emulador</span><span class="sxs-lookup"><span data-stu-id="928b0-114">Debug a JavaScript bot using command line and emulator</span></span>

<span data-ttu-id="928b0-115">Para ejecutar un bot de JavaScript mediante la línea de comandos y probarlo con el emulador, siga estos pasos:</span><span class="sxs-lookup"><span data-stu-id="928b0-115">To run a JavaScript bot using the command line and testing the bot with the emulator, do the following:</span></span>
1. <span data-ttu-id="928b0-116">Desde la línea de comandos, cambie el directorio al del proyecto del bot.</span><span class="sxs-lookup"><span data-stu-id="928b0-116">From the command line, change directory to your bot project directory.</span></span>
2. <span data-ttu-id="928b0-117">Ejecute el comando **node app.js** para iniciar el bot.</span><span class="sxs-lookup"><span data-stu-id="928b0-117">Start the bot by running the command **node app.js**.</span></span>
3. <span data-ttu-id="928b0-118">Inicie el emulador y conéctese al punto de conexión del bot (por ejemplo: **http://localhost:3978/api/messages**).</span><span class="sxs-lookup"><span data-stu-id="928b0-118">Start the emulator and connect to the bot's endpoint (e.g.: **http://localhost:3978/api/messages**).</span></span> <span data-ttu-id="928b0-119">Si es la primera vez que se ejecuta el bot, haga clic en **Archivo > Nuevo bot** y siga las instrucciones en pantalla.</span><span class="sxs-lookup"><span data-stu-id="928b0-119">If this is the first time you are running the bot then click **File > New Bot** and follow the instructions on screen.</span></span> <span data-ttu-id="928b0-120">En caso contrario, haga clic en **Archivo > Abrir bot** para abrir un bot existente.</span><span class="sxs-lookup"><span data-stu-id="928b0-120">Otherwise, click **File > Open Bot** to open an existing bot.</span></span> <span data-ttu-id="928b0-121">Como este bot se ejecuta localmente en el equipo, puede dejar en blanco los campos **MSA app ID** (Id. de aplicación de MSA) y **MSA app password** (Contraseña de aplicación de MSA).</span><span class="sxs-lookup"><span data-stu-id="928b0-121">Since this bot is running locally on your computer, you can leave the **MSA app ID** and **MSA app password** fileds blank.</span></span> <span data-ttu-id="928b0-122">Para obtener más información, vea [Depuración con el emulador](bot-service-debug-emulator.md).</span><span class="sxs-lookup"><span data-stu-id="928b0-122">For more information, see [Debug with the Emulator](bot-service-debug-emulator.md).</span></span>
4. <span data-ttu-id="928b0-123">Desde el emulador, envíe un mensaje al bot (por ejemplo, envíe el mensaje "¡Hi" [¡Hola!]).</span><span class="sxs-lookup"><span data-stu-id="928b0-123">From the emulator, send your bot a message (e.g.: send the message "Hi").</span></span> 
5. <span data-ttu-id="928b0-124">Use los paneles **Inspector** y **Registro** del lado derecho de la ventana del emulador para depurar el bot.</span><span class="sxs-lookup"><span data-stu-id="928b0-124">Use the **Inspector** and **Log** pannels on the right side of the emulator window to debug your bot.</span></span> <span data-ttu-id="928b0-125">Por ejemplo, al hacer clic en cualquiera de las burbujas de mensaje (como la burbuja de mensaje "Hi" (Hola) en la captura de pantalla siguiente), se mostrarán los detalles de ese mensaje en el panel **Inspector**.</span><span class="sxs-lookup"><span data-stu-id="928b0-125">For example, clicking on any of the messages bubble (e.g.: the "Hi" message bubble in the screenshot below) will show you the detail of that message in the **Inspector** pannel.</span></span> <span data-ttu-id="928b0-126">Puede usarlo para ver las solicitudes y respuestas como mensajes que se intercambian entre el emulador y el bot.</span><span class="sxs-lookup"><span data-stu-id="928b0-126">You can use it to view requests and responses as messages are exchanged between the emulator and the bot.</span></span> <span data-ttu-id="928b0-127">Como alternativa, puede hacer clic en cualquier parte del texto vinculado en el panel **Registro** para ver los detalles en el panel **Inspector**.</span><span class="sxs-lookup"><span data-stu-id="928b0-127">Alternatively, you can click on any of the linked text in the **Log** panel to view the details in the **Inspector** pannel.</span></span>

   ![Panel Inspector en el emulador](~/media/bot-service-debug-bot/emulator_inspector.png)

### <a name="debug-a-javascript-bot-using-breakpoints-in-visual-studio-code"></a><span data-ttu-id="928b0-129">Depurar un bot de JavaScript mediante puntos de interrupción en Visual Studio Code</span><span class="sxs-lookup"><span data-stu-id="928b0-129">Debug a JavaScript bot using breakpoints in Visual Studio Code</span></span>

<span data-ttu-id="928b0-130">Con un IDE como Visual Studio Code, se pueden establecer puntos de interrupción y ejecutar el bot en modo de depuración para recorrer el código.</span><span class="sxs-lookup"><span data-stu-id="928b0-130">Using an IDE like Visual Studio Code, you can set breakpoints and run the bot in debug mode to step through your code.</span></span> <span data-ttu-id="928b0-131">Para establecer puntos de interrupción en VS Code, siga estos pasos:</span><span class="sxs-lookup"><span data-stu-id="928b0-131">To set breakpoints in VS Code, do the following:</span></span>

1. <span data-ttu-id="928b0-132">Inicie VS Code y abra la carpeta del proyecto de bot.</span><span class="sxs-lookup"><span data-stu-id="928b0-132">Launch VS Code and open your bot project folder.</span></span>
2. <span data-ttu-id="928b0-133">En la barra de menús, haga clic en **Depurar** y en **Iniciar depuración**.</span><span class="sxs-lookup"><span data-stu-id="928b0-133">From the menu bar, click **Debug** and click **Start Debugging**.</span></span> <span data-ttu-id="928b0-134">Si se le pide que seleccione un motor de tiempo de ejecución para ejecutar el código, seleccione **Node.js**.</span><span class="sxs-lookup"><span data-stu-id="928b0-134">If you are prompted to select a runtime engine to run your code, select **Node.js**.</span></span> <span data-ttu-id="928b0-135">En este momento, el bot se ejecuta de forma local.</span><span class="sxs-lookup"><span data-stu-id="928b0-135">At this point, the bot is running locally.</span></span> 

   > [!NOTE]
   > <span data-ttu-id="928b0-136">Si recibe el error "El valor no puede ser nulo", asegúrese de que la configuración de **Table Storage** sea válida.</span><span class="sxs-lookup"><span data-stu-id="928b0-136">If you get the "Value cannot be null" error, check to make sure your **Table Storage** setting is valid.</span></span>
   > <span data-ttu-id="928b0-137">**EchoBot** usa **Table Storage** de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="928b0-137">The **EchoBot** is default to using **Table Storage**.</span></span> <span data-ttu-id="928b0-138">Para usar Table Storage en el bot, se necesitan el *nombre* y la *clave* de la tabla.</span><span class="sxs-lookup"><span data-stu-id="928b0-138">To use Table Storage in your bot, you need the table *name* and *key*.</span></span> <span data-ttu-id="928b0-139">Si no tiene una instancia de Table Storage lista, puede crear una o, con fines de prueba, puede comentar el código que usa **TableBotDataStore** y quitar la marca de comentario de la línea de código en la que se usa **InMemoryDataStore**.</span><span class="sxs-lookup"><span data-stu-id="928b0-139">If you do not have a Table Storage instance ready, you can create one or for testing purposes, you can comment out the code that uses **TableBotDataStore** and uncomment the line of code that uses **InMemoryDataStore**.</span></span> <span data-ttu-id="928b0-140">**InMemoryDataStore** solo está destinado para la creación de prototipos y pruebas.</span><span class="sxs-lookup"><span data-stu-id="928b0-140">The **InMemoryDataStore** is intended for testing and prototyping only.</span></span>

3. <span data-ttu-id="928b0-141">Establezca los puntos de interrupción según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="928b0-141">Set breakpoint as necesary.</span></span> <span data-ttu-id="928b0-142">En VS Code, puede establecer puntos de interrupción si mantiene el ratón sobre la columna a la izquierda de los números de línea.</span><span class="sxs-lookup"><span data-stu-id="928b0-142">In VS Code, you can set breakpoints by hovering your mouse over the column to the left of the line numbers.</span></span> <span data-ttu-id="928b0-143">Aparecerá un pequeño punto de color rojo.</span><span class="sxs-lookup"><span data-stu-id="928b0-143">A small red dot will appear.</span></span> <span data-ttu-id="928b0-144">Si hace clic en el punto, se establece el punto de interrupción.</span><span class="sxs-lookup"><span data-stu-id="928b0-144">If you click on the dot, the breakpoint is set.</span></span> <span data-ttu-id="928b0-145">Si vuelve a hacer clic en el punto, el punto de interrupción se quita.</span><span class="sxs-lookup"><span data-stu-id="928b0-145">If you click the dot again, the breakpoint is removed.</span></span>

   ![Establecer punto de interrupción en VS Code](~/media/bot-service-debug-bot/breakpoint-set.png)

4. <span data-ttu-id="928b0-147">Inicie el emulador de Bot Framework y conéctese al bot como se describe en la sección anterior.</span><span class="sxs-lookup"><span data-stu-id="928b0-147">Start the Bot Framework Emulator and connect to your bot as described in the section above.</span></span> 
5. <span data-ttu-id="928b0-148">Desde el emulador, envíe un mensaje al bot (por ejemplo, envíe el mensaje "¡Hi" [¡Hola!]).</span><span class="sxs-lookup"><span data-stu-id="928b0-148">From the emulator, send your bot a message (e.g.: send the message "Hi").</span></span> <span data-ttu-id="928b0-149">La ejecución se detendrá en la línea donde ha colocado el punto de interrupción.</span><span class="sxs-lookup"><span data-stu-id="928b0-149">Execution will stop at the line where you place the breakpoint.</span></span>

   ![Depuración en VS Code](~/media/bot-service-debug-bot/breakpoint-caught.png)


## <a name="debug-a-c-bot"></a><span data-ttu-id="928b0-151">Depuración de un bot de C#</span><span class="sxs-lookup"><span data-stu-id="928b0-151">Debug a C# bot</span></span>

<span data-ttu-id="928b0-152">Siga los pasos descritos en esta sección para depurar un bot escrito en C#.</span><span class="sxs-lookup"><span data-stu-id="928b0-152">Follow the steps in this section to debug a bot written in C#.</span></span>


### <a name="prerequisites"></a><span data-ttu-id="928b0-153">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="928b0-153">Prerequisites</span></span>

<span data-ttu-id="928b0-154">Antes de poder depurar un bot de C# de aplicación web, debe completar estas tareas.</span><span class="sxs-lookup"><span data-stu-id="928b0-154">Before you can debug your web app C# bot, you must complete these tasks.</span></span>

- <span data-ttu-id="928b0-155">Descargue el código fuente del bot (desde Azure), como se describe en [Descarga del código fuente del bot](bot-service-build-download-source-code.md?#download-bot-source-code).</span><span class="sxs-lookup"><span data-stu-id="928b0-155">Download the source code for your bot (from Azure), as described in [Download bot source code](bot-service-build-download-source-code.md?#download-bot-source-code).</span></span>
- <span data-ttu-id="928b0-156">Descargue e instale el [emulador de Bot Framework](https://github.com/Microsoft/BotFramework-Emulator/releases).</span><span class="sxs-lookup"><span data-stu-id="928b0-156">Download and install the [Bot Framework Emulator](https://github.com/Microsoft/BotFramework-Emulator/releases).</span></span>
- <span data-ttu-id="928b0-157">Descargue e instale <a href="https://www.visualstudio.com/downloads/" target="_blank">Visual Studio 2017</a> (Community Edition o superior).</span><span class="sxs-lookup"><span data-stu-id="928b0-157">Download and install <a href="https://www.visualstudio.com/downloads/" target="_blank">Visual Studio 2017</a> (Community Edition or above).</span></span>

### <a name="debug-a-c-bot-using-breakpoints-in-visual-studio"></a><span data-ttu-id="928b0-158">Depurar un bot de C# mediante puntos de interrupción en Visual Studio</span><span class="sxs-lookup"><span data-stu-id="928b0-158">Debug a C# bot using breakpoints in Visual Studio</span></span>

<span data-ttu-id="928b0-159">Con un IDE como Visual Studio (VS), se pueden establecer puntos de interrupción y ejecutar el bot en modo de depuración para recorrer el código.</span><span class="sxs-lookup"><span data-stu-id="928b0-159">Using an IDE like Visual Studio (VS), you can set breakpoints and run the bot in debug mode to step through your code.</span></span> <span data-ttu-id="928b0-160">Para establecer puntos de interrupción en VS, siga estos pasos:</span><span class="sxs-lookup"><span data-stu-id="928b0-160">To set breakpoints in VS, do the following:</span></span>

1. <span data-ttu-id="928b0-161">Navegue hasta la carpeta del bot y abra el archivo **.sln**.</span><span class="sxs-lookup"><span data-stu-id="928b0-161">Navigate to your bot folder and open the **.sln** file.</span></span> <span data-ttu-id="928b0-162">La solución se abrirá en VS.</span><span class="sxs-lookup"><span data-stu-id="928b0-162">This will open the solution in VS.</span></span>
2. <span data-ttu-id="928b0-163">Desde la barra de menús, haga clic en **Compilar** y en **Compilar solución**.</span><span class="sxs-lookup"><span data-stu-id="928b0-163">From the menu bar, click **Build** and click **Build Solution**.</span></span>
3. <span data-ttu-id="928b0-164">Desde el **Explorador de soluciones**, expanda la carpeta **Cuadros de diálogo** y haga clic en **EchoDialog.cs**.</span><span class="sxs-lookup"><span data-stu-id="928b0-164">From the **Solution Explorer**, expand the **Dialogs** folder and click **EchoDialog.cs**.</span></span> <span data-ttu-id="928b0-165">Este archivo define la lógica principal del bot.</span><span class="sxs-lookup"><span data-stu-id="928b0-165">This file defines your main bot logic.</span></span>
4. <span data-ttu-id="928b0-166">En la barra de menús, haga clic en **Depurar** y en **Iniciar depuración**.</span><span class="sxs-lookup"><span data-stu-id="928b0-166">From the menu bar, click **Debug** and click **Start Debugging**.</span></span> <span data-ttu-id="928b0-167">En este momento, el bot se ejecuta de forma local.</span><span class="sxs-lookup"><span data-stu-id="928b0-167">At this point, the bot is running locally.</span></span> 

   > [!NOTE]
   > <span data-ttu-id="928b0-168">Si recibe el error "El valor no puede ser nulo", asegúrese de que la configuración de **Table Storage** sea válida.</span><span class="sxs-lookup"><span data-stu-id="928b0-168">If you get the "Value cannot be null" error, check to make sure your **Table Storage** setting is valid.</span></span>
   > <span data-ttu-id="928b0-169">**EchoBot** usa **Table Storage** de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="928b0-169">The **EchoBot** is default to using **Table Storage**.</span></span> <span data-ttu-id="928b0-170">Para usar Table Storage en el bot, se necesitan el *nombre* y la *clave* de la tabla.</span><span class="sxs-lookup"><span data-stu-id="928b0-170">To use Table Storage in your bot, you need the table *name* and *key*.</span></span> <span data-ttu-id="928b0-171">Si no tiene una instancia de Table Storage lista, puede crear una o, con fines de prueba, puede comentar el código que usa **TableBotDataStore** y quitar la marca de comentario de la línea de código en la que se usa **InMemoryDataStore**.</span><span class="sxs-lookup"><span data-stu-id="928b0-171">If you do not have a Table Storage instance ready, you can create one or for testing purposes, you can comment out the code that uses **TableBotDataStore** and uncomment the line of code that uses **InMemoryDataStore**.</span></span> <span data-ttu-id="928b0-172">**InMemoryDataStore** solo está destinado para la creación de prototipos y pruebas.</span><span class="sxs-lookup"><span data-stu-id="928b0-172">The **InMemoryDataStore** is intended for testing and prototyping only.</span></span>

5. <span data-ttu-id="928b0-173">Establezca los puntos de interrupción según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="928b0-173">Set breakpoint as necesary.</span></span> <span data-ttu-id="928b0-174">En VS, puede establecer puntos de interrupción si mantiene el ratón sobre la columna a la izquierda de los números de línea.</span><span class="sxs-lookup"><span data-stu-id="928b0-174">In VS, you can set breakpoints by hovering your mouse over the column to the left of the line numbers.</span></span> <span data-ttu-id="928b0-175">Aparecerá un pequeño punto de color rojo.</span><span class="sxs-lookup"><span data-stu-id="928b0-175">A small red dot will appear.</span></span> <span data-ttu-id="928b0-176">Si hace clic en el punto, se establece el punto de interrupción.</span><span class="sxs-lookup"><span data-stu-id="928b0-176">If you click on the dot, the breakpoint is set.</span></span> <span data-ttu-id="928b0-177">Si vuelve a hacer clic en el punto, el punto de interrupción se quita.</span><span class="sxs-lookup"><span data-stu-id="928b0-177">If you click the dot again, the breakpoint is removed.</span></span>

   ![Establecer punto de interrupción en VS](~/media/bot-service-debug-bot/breakpoint-set-vs.png)

6. <span data-ttu-id="928b0-179">Inicie el emulador de Bot Framework y conéctese al bot como se describe en la sección anterior.</span><span class="sxs-lookup"><span data-stu-id="928b0-179">Start the Bot Framework Emulator and connect to your bot as described in the section above.</span></span> 
7. <span data-ttu-id="928b0-180">Desde el emulador, envíe un mensaje al bot (por ejemplo, envíe el mensaje "¡Hi" [¡Hola!]).</span><span class="sxs-lookup"><span data-stu-id="928b0-180">From the emulator, send your bot a message (e.g.: send the message "Hi").</span></span> <span data-ttu-id="928b0-181">La ejecución se detendrá en la línea donde ha colocado el punto de interrupción.</span><span class="sxs-lookup"><span data-stu-id="928b0-181">Execution will stop at the line where you place the breakpoint.</span></span>

   ![Depuración en VS](~/media/bot-service-debug-bot/breakpoint-caught-vs.png)

::: moniker range="azure-bot-service-3.0" 

## <a id="debug-csharp-serverless"></a> <span data-ttu-id="928b0-183">Depurar un bot de Functions de C\# de plan de consumo</span><span class="sxs-lookup"><span data-stu-id="928b0-183">Debug a Consumption plan C\# Functions bot</span></span>

<span data-ttu-id="928b0-184">El entorno de C\# sin servidor de plan de consumo de Bot Service tiene más en común con Node.js que una aplicación C\# típica porque requiere un host en tiempo de ejecución, al igual que el motor de nodos.</span><span class="sxs-lookup"><span data-stu-id="928b0-184">The Consumption plan serverless C\# environment in Bot Service has more in common with Node.js than a typical C\# application because it requires a runtime host, much like the Node engine.</span></span> <span data-ttu-id="928b0-185">En Azure, el runtime forma parte del entorno de hospedaje en la nube, pero ese entorno se debe replicar localmente en el escritorio.</span><span class="sxs-lookup"><span data-stu-id="928b0-185">In Azure, the runtime is part of the hosting environment in the cloud, but you must replicate that environment locally on your desktop.</span></span> 

### <a name="prerequisites"></a><span data-ttu-id="928b0-186">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="928b0-186">Prerequisites</span></span>

<span data-ttu-id="928b0-187">Antes de poder depurar un bot de C# de plan de consumo, se deben completar estas tareas.</span><span class="sxs-lookup"><span data-stu-id="928b0-187">Before you can debug your Consumption plan C# bot, you must complete these tasks.</span></span>

- <span data-ttu-id="928b0-188">Descargue el código fuente del bot (desde Azure), como se describe en [Configuración de la implementación continua](bot-service-continuous-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="928b0-188">Download the source code for your bot (from Azure), as described in [Set up continuous deployment](bot-service-continuous-deployment.md).</span></span>
- <span data-ttu-id="928b0-189">Descargue e instale el [emulador de Bot Framework](https://github.com/Microsoft/BotFramework-Emulator/releases).</span><span class="sxs-lookup"><span data-stu-id="928b0-189">Download and install the [Bot Framework Emulator](https://github.com/Microsoft/BotFramework-Emulator/releases).</span></span>
- <span data-ttu-id="928b0-190">Instale la <a href="https://www.npmjs.com/package/azure-functions-cli" target="_blank">CLI de Azure Functions</a>.</span><span class="sxs-lookup"><span data-stu-id="928b0-190">Install the <a href="https://www.npmjs.com/package/azure-functions-cli" target="_blank">Azure Functions CLI</a>.</span></span>
- <span data-ttu-id="928b0-191">Instale la <a href="https://github.com/dotnet/cli" target="_blank">CLI de DotNet</a>.</span><span class="sxs-lookup"><span data-stu-id="928b0-191">Install the <a href="https://github.com/dotnet/cli" target="_blank">DotNet CLI</a>.</span></span>
  
<span data-ttu-id="928b0-192">Si quiere poder depurar el código mediante puntos de interrupción en Visual Studio 2017, también debe completar estas tareas.</span><span class="sxs-lookup"><span data-stu-id="928b0-192">If you want to be able to debug your code by using breakpoints in Visual Studio 2017, you must also complete these tasks.</span></span>
  
- <span data-ttu-id="928b0-193">Descargue e instale <a href="https://www.visualstudio.com/downloads/" target="_blank">Visual Studio 2017</a> (Community Edition o superior).</span><span class="sxs-lookup"><span data-stu-id="928b0-193">Download and install <a href="https://www.visualstudio.com/downloads/" target="_blank">Visual Studio 2017</a> (Community Edition or above).</span></span>
- <span data-ttu-id="928b0-194">Descargue e instale la <a href="https://visualstudiogallery.msdn.microsoft.com/e6bf6a3d-7411-4494-8a1e-28c1a8c4ce99" target="_blank">extensión Command Task Runner de Visual Studio</a>.</span><span class="sxs-lookup"><span data-stu-id="928b0-194">Download and install the <a href="https://visualstudiogallery.msdn.microsoft.com/e6bf6a3d-7411-4494-8a1e-28c1a8c4ce99" target="_blank">Command Task Runner Visual Studio Extension</a>.</span></span>

> [!NOTE]
> <span data-ttu-id="928b0-195">En la actualidad no se admite Visual Studio Code.</span><span class="sxs-lookup"><span data-stu-id="928b0-195">Visual Studio Code is not currently supported.</span></span>

### <a name="debug-a-consumption-plan-c-functions-bot-using-the-emulator"></a><span data-ttu-id="928b0-196">Depurar un bot de Functions de C# de plan de consumo con el emulador</span><span class="sxs-lookup"><span data-stu-id="928b0-196">Debug a Consumption plan C# Functions bot using the emulator</span></span>

<span data-ttu-id="928b0-197">La manera más sencilla de depurar el bot de forma local consiste en iniciarlo y, después, conectarse a él desde el emulador de Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="928b0-197">The simplest way to debug your bot locally is to start the bot and then connect to it from Bot Framework Emulator.</span></span> 
<span data-ttu-id="928b0-198">En primer lugar, abra un símbolo del sistema y vaya hasta la carpeta del repositorio donde se encuentra el archivo **project.json**.</span><span class="sxs-lookup"><span data-stu-id="928b0-198">First, open a command prompt and navigate to the folder where the **project.json** file is located in your repository.</span></span> <span data-ttu-id="928b0-199">Después, ejecute el comando `dotnet restore` para restaurar los distintos paquetes a los que se hace referencia en el bot.</span><span class="sxs-lookup"><span data-stu-id="928b0-199">Then, run the command `dotnet restore` to restore the various packages that are referenced in your bot.</span></span>

> [!NOTE]
> <span data-ttu-id="928b0-200">En Visual Studio 2017 se cambia la manera en que Visual Studio controla las dependencias.</span><span class="sxs-lookup"><span data-stu-id="928b0-200">Visual Studio 2017 changes how Visual Studio handles dependencies.</span></span> <span data-ttu-id="928b0-201">Mientras que en Visual Studio 2015 se usa **project.json** para controlar las dependencias, en Visual Studio 2017 se usa un modelo de **.csproj** cuando se carga en Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="928b0-201">While Visual Studio 2015 uses **project.json** to handle dependencies, Visual Studio 2017 uses a **.csproj** model when loading in Visual Studio.</span></span> <span data-ttu-id="928b0-202">Si usa Visual Studio 2017, <a href="https://aka.ms/bf-debug-project">descargue este archivo **.csproj**</a> a la carpeta **/messages** del repositorio antes de ejecutar el comando `dotnet restore`.</span><span class="sxs-lookup"><span data-stu-id="928b0-202">If you are using Visual Studio 2017, <a href="https://aka.ms/bf-debug-project">download this **.csproj** file</a> to the **/messages** folder in your repository before you run the `dotnet restore` command.</span></span>

![Símbolo del sistema](~/media/bot-service-debug-bot/csharp-azureservice-debug-envconfig.png)

<span data-ttu-id="928b0-204">A continuación, ejecute `debughost.cmd` para cargar e iniciar el bot.</span><span class="sxs-lookup"><span data-stu-id="928b0-204">Next, run `debughost.cmd` to load and start your bot.</span></span> 

![debughost.cmd ejecutado en el símbolo del sistema](~/media/bot-service-debug-bot/csharp-azureservice-debug-debughost.png)

<span data-ttu-id="928b0-206">En este momento, el bot se ejecuta de forma local.</span><span class="sxs-lookup"><span data-stu-id="928b0-206">At this point, the bot is running locally.</span></span> <span data-ttu-id="928b0-207">En la ventana de consola, copie el punto de conexión en el que escucha debughost (en este ejemplo, `http://localhost:3978`).</span><span class="sxs-lookup"><span data-stu-id="928b0-207">From the console window, copy the endpoint that debughost is listening on (in this example, `http://localhost:3978`).</span></span> <span data-ttu-id="928b0-208">Después, inicie el emulador de Bot Framework y pegue el punto de conexión en la barra de direcciones del emulador.</span><span class="sxs-lookup"><span data-stu-id="928b0-208">Then, start the Bot Framework Emulator and paste the endpoint into the address bar of the emulator.</span></span> <span data-ttu-id="928b0-209">Para este ejemplo, también se debe anexar `/api/messages` al punto de conexión.</span><span class="sxs-lookup"><span data-stu-id="928b0-209">For this example, you must also append `/api/messages` to the endpoint.</span></span> <span data-ttu-id="928b0-210">Como para la depuración local no se necesita la seguridad, puede dejar en blanco los campos **Id. de aplicación de Microsoft** y **Contraseña de aplicación de Microsoft**.</span><span class="sxs-lookup"><span data-stu-id="928b0-210">Since you do not need security for local debugging, you can leave the **Microsoft App ID** and **Microsoft App Password** fields blank.</span></span> <span data-ttu-id="928b0-211">Haga clic en **Conectar** para establecer una conexión con el bot mediante el punto de conexión especificado.</span><span class="sxs-lookup"><span data-stu-id="928b0-211">Click **Connect** to establish a connection to your bot using the specified endpoint.</span></span>

![Configuración del emulador](~/media/bot-service-debug-bot/mac-azureservice-emulator-config.png)

<span data-ttu-id="928b0-213">Después de conectar el emulador al bot, envíe un mensaje al bot escribiendo algún texto en el cuadro de texto que se encuentra en la parte inferior de la ventana del emulador (es decir, en la esquina inferior izquierda donde aparece **Escriba el mensaje...**).</span><span class="sxs-lookup"><span data-stu-id="928b0-213">After you have connected the emulator to your bot, send a message to your bot by typing some text into the textbox that is located at the bottom of the emulator window (i.e., where **Type your message...** appears in the lower-left corner).</span></span> <span data-ttu-id="928b0-214">Con los paneles **Registro** e **Inspector** del lado derecho de la ventana del emulador, puede ver las solicitudes y respuestas como mensajes que se intercambian entre el emulador y el bot.</span><span class="sxs-lookup"><span data-stu-id="928b0-214">By using the **Log** and **Inspector** panels on the right side of the emulator window, you can view the requests and responses as messages are exchanged between the emulator and the bot.</span></span>

![Pruebas a través del emulador](~/media/bot-service-debug-bot/mac-azureservice-debug-emulator.png)

<span data-ttu-id="928b0-216">Además, puede ver los detalles de registro en la ventana de consola.</span><span class="sxs-lookup"><span data-stu-id="928b0-216">Additionally, you can view log details in the console window.</span></span>

![Ventana de consola](~/media/bot-service-debug-bot/csharp-azureservice-debug-debughostlogging.png)

::: moniker-end
::: moniker range="azure-bot-service-4.0" 

## <a id="debug-csharp-serverless"></a> <span data-ttu-id="928b0-218">Depurar un bot de Functions de C\# de plan de consumo</span><span class="sxs-lookup"><span data-stu-id="928b0-218">Debug a Consumption plan C\# Functions bot</span></span>

<span data-ttu-id="928b0-219">El Bot de Functions para el SDK V4 de Bot Builder estará disponible próximamente.</span><span class="sxs-lookup"><span data-stu-id="928b0-219">Functions bot for Bot Builder SDK V4 is coming soon.</span></span>

::: moniker-end

## <a name="next-steps"></a><span data-ttu-id="928b0-220">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="928b0-220">Next steps</span></span>

> [!div class="nextstepaction"]
> <span data-ttu-id="928b0-221">[Depuración con el emulador](bot-service-debug-emulator.md).</span><span class="sxs-lookup"><span data-stu-id="928b0-221">[Debug with the Emulator](bot-service-debug-emulator.md).</span></span>

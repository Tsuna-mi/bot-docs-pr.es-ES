<span data-ttu-id="bb853-101">Normalmente, cada mensaje que envía un bot al usuario se relaciona directamente con la anterior entrada del usuario.</span><span class="sxs-lookup"><span data-stu-id="bb853-101">Typically, each message that a bot sends to the user directly relates to the user's prior input.</span></span> <span data-ttu-id="bb853-102">En algunos casos, puede que un bot tenga que enviar al usuario un mensaje que no está relacionado directamente con el tema actual de la conversación.</span><span class="sxs-lookup"><span data-stu-id="bb853-102">In some cases, a bot may need to send the user a message that is not directly related to the current topic of conversation.</span></span> <span data-ttu-id="bb853-103">Este tipo de mensajes se llaman **mensajes proactivos**.</span><span class="sxs-lookup"><span data-stu-id="bb853-103">These types of messages are called **proactive messages**.</span></span> 

<span data-ttu-id="bb853-104">Los mensajes proactivos pueden ser útiles en diversos escenarios.</span><span class="sxs-lookup"><span data-stu-id="bb853-104">Proactive messages can be useful in a variety of scenarios.</span></span> <span data-ttu-id="bb853-105">Si un bot establece un temporizador o un recordatorio, deberá notificar al usuario cuando llegue la hora.</span><span class="sxs-lookup"><span data-stu-id="bb853-105">If a bot sets a timer or reminder, it will need to notify the user when the time arrives.</span></span> <span data-ttu-id="bb853-106">O bien, si un bot recibe una notificación desde un evento externo, es posible que deba comunicar esa información al usuario inmediatamente.</span><span class="sxs-lookup"><span data-stu-id="bb853-106">Or, if a bot receives a notification from an external system, it may need to communicate that information to the user immediately.</span></span> <span data-ttu-id="bb853-107">Por ejemplo, si el usuario ha solicitado anteriormente al bot que supervise el precio de un producto, el bot puede alertar al usuario si el precio del producto ha descendido un 20 %.</span><span class="sxs-lookup"><span data-stu-id="bb853-107">For example, if the user has previously asked the bot to monitor the price of a product, the bot can alert the user if the price of the product has dropped by 20%.</span></span> <span data-ttu-id="bb853-108">O bien, si un bot necesita algo de tiempo para compilar una respuesta a la pregunta del usuario, puede informar al usuario del retraso y permitir que la conversación continúe mientras tanto.</span><span class="sxs-lookup"><span data-stu-id="bb853-108">Or, if a bot requires some time to compile a response to the user's question, it may inform the user of the delay and allow the conversation to continue in the meantime.</span></span> <span data-ttu-id="bb853-109">Cuando el bot termine de compilar la respuesta a la pregunta, compartirá esta información con el usuario.</span><span class="sxs-lookup"><span data-stu-id="bb853-109">When the bot finishes compiling the response to the question, it will share that information with the user.</span></span> 

<span data-ttu-id="bb853-110">Al implementar mensajes proactivos en el bot:</span><span class="sxs-lookup"><span data-stu-id="bb853-110">When implementing proactive messages in your bot:</span></span>

> <span data-ttu-id="bb853-111">*No* envíe varios mensajes proactivos dentro de un intervalo corto de tiempo.</span><span class="sxs-lookup"><span data-stu-id="bb853-111">*Don't* send several proactive messages within a short amount of time.</span></span> <span data-ttu-id="bb853-112">Algunos canales imponen restricciones sobre la frecuencia con que un bot puede enviar mensajes al usuario, y deshabilitarán el bot si se infringen tales restricciones.</span><span class="sxs-lookup"><span data-stu-id="bb853-112">Some channels enforce restrictions on how frequently a bot can send messages to the user, and will disable the bot if it violates those restrictions.</span></span>
>
> <span data-ttu-id="bb853-113">*No* envíe mensajes proactivos a usuarios que no hayan interactuado anteriormente con el bot o que no hayan solicitado contacto con el bot por otros medios como correo electrónico o SMS.</span><span class="sxs-lookup"><span data-stu-id="bb853-113">*Don't* send proactive messages to users who have not previously interacted with the bot or solicited contact with the bot through another means such as e-mail or SMS.</span></span>

<span data-ttu-id="bb853-114">Los mensajes proactivos pueden producir un comportamiento inesperado.</span><span class="sxs-lookup"><span data-stu-id="bb853-114">Proactive messages can create unexpected behavior.</span></span> <span data-ttu-id="bb853-115">Considere el siguiente escenario:</span><span class="sxs-lookup"><span data-stu-id="bb853-115">Consider the following scenario.</span></span>

![cómo hablan los usuarios](~/media/designing-bots/capabilities/proactive1.png)

<span data-ttu-id="bb853-117">En este ejemplo, el usuario ha solicitado anteriormente al bot que supervise los precios de un hotel en Las Vegas.</span><span class="sxs-lookup"><span data-stu-id="bb853-117">In this example, the user has previously asked the bot to monitor prices of a hotel in Las Vegas.</span></span> <span data-ttu-id="bb853-118">El bot inicia una tarea de supervisión en segundo plano, que se ha ejecutado de manera continuada durante los últimos días.</span><span class="sxs-lookup"><span data-stu-id="bb853-118">The bot launched a background monitoring task, which has been running continuously for the past several days.</span></span> <span data-ttu-id="bb853-119">En la conversación, el usuario está reservando actualmente un viaje a Londres cuando la tarea en segundo plano desencadena un mensaje de notificación sobre un descuento para un hotel de Las Vegas.</span><span class="sxs-lookup"><span data-stu-id="bb853-119">In the conversation, the user is currently booking a trip to London when the background task triggers a notification message about a discount for the Las Vegas hotel.</span></span> <span data-ttu-id="bb853-120">El bot introduce esta información en la conversación, lo que crea una experiencia de usuario confusa.</span><span class="sxs-lookup"><span data-stu-id="bb853-120">The bot interjects this information into the conversation, making for a confusing user experience.</span></span> 

<span data-ttu-id="bb853-121">¿Cómo debería tratar el bot esta situación?</span><span class="sxs-lookup"><span data-stu-id="bb853-121">How should the bot have handled this situation?</span></span> 

- <span data-ttu-id="bb853-122">Esperar a que finalice la reserva de viaje actual y luego entregar la notificación.</span><span class="sxs-lookup"><span data-stu-id="bb853-122">Wait for the current travel booking to finish, then deliver the notification.</span></span> <span data-ttu-id="bb853-123">Este enfoque sería muy poco perjudicial, pero el retraso en comunicar la información podría hacer que el usuario perdiera la oportunidad de un precio bajo por el hotel de Las Vegas.</span><span class="sxs-lookup"><span data-stu-id="bb853-123">This approach would be minimally disruptive, but the delay in communicating the information might cause the user to miss out on the low-price opportunity for the Las Vegas hotel.</span></span> 
- <span data-ttu-id="bb853-124">Cancelar el flujo de la reserva de viaje actual y entregar la notificación inmediatamente.</span><span class="sxs-lookup"><span data-stu-id="bb853-124">Cancel the current travel booking flow and deliver the notification immediately.</span></span> <span data-ttu-id="bb853-125">Este enfoque entrega la información de manera puntual, pero podría ser frustrante para el usuario al obligarle a empezar con su reserva de viaje.</span><span class="sxs-lookup"><span data-stu-id="bb853-125">This approach delivers the information in a timely fashion but would likely frustrate the user by forcing them start over with their travel booking.</span></span> 
- <span data-ttu-id="bb853-126">Interrumpir la reserva actual, cambiar claramente el tema de conversación al hotel de Las Vegas hasta que el usuario responda y luego volver a la reserva de viaje en curso y continuar desde donde se produjo la interrupción.</span><span class="sxs-lookup"><span data-stu-id="bb853-126">Interrupt the current booking, clearly change the topic of conversation to the hotel in Las Vegas until the user responds, and then switch back to the in-progress travel booking and continue from where it was interrupted.</span></span> <span data-ttu-id="bb853-127">Este enfoque puede parecer la mejor opción, pero introduce complejidad tanto para el desarrollador del bot como para el usuario.</span><span class="sxs-lookup"><span data-stu-id="bb853-127">This approach may seem like the best choice, but it introduces complexity both for the bot developer and the user.</span></span>

<span data-ttu-id="bb853-128">Normalmente, el bot usará alguna combinación de **mensajes proactivos ad hoc** y **mensajes proactivos basados en diálogo** para tratar situaciones como esta.</span><span class="sxs-lookup"><span data-stu-id="bb853-128">Most commonly, your bot will use some combination of **ad hoc proactive messages** and **dialog-based proactive messages** to handle situations like this.</span></span> 

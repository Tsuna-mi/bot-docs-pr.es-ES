<span data-ttu-id="6ea3f-101">Cuando se recibe una devolución de llamada de actualización de dirección de envío o de actualización de opción de envío, se indicará al bot el estado actual de los detalles de pago del cliente en la propiedad `Activity.Value`.</span><span class="sxs-lookup"><span data-stu-id="6ea3f-101">When receiving a Shipping Address Update or a Shipping Option Update callback, your bot will be provided with the current state of the payment details from the client in the `Activity.Value` property.</span></span>
<span data-ttu-id="6ea3f-102">Como comerciante, debe tratar estas devoluciones de llamada como estáticas; dados los detalles de pago de entrada, calculará algunos detalles de pago de salida, y se producirá un error si el estado de entrada proporcionado por el cliente no es válido por algún motivo.</span><span class="sxs-lookup"><span data-stu-id="6ea3f-102">As a merchant, you should treat these callbacks as static, given input payment details you will calculate some output payment details and fail if the input state provided by the client is invalid for any reason.</span></span> <span data-ttu-id="6ea3f-103">Si el bot determina que la información especificada es válida tal cual, simplemente envíe el código de estado HTTP `200 OK` junto con los detalles de pago sin modificar.</span><span class="sxs-lookup"><span data-stu-id="6ea3f-103">If the bot determines the given information is valid as-is, simply send HTTP status code `200 OK` along with the unmodified payment details.</span></span> <span data-ttu-id="6ea3f-104">Como alternativa, el bot puede enviar el código de estado HTTP `200 OK` junto con los detalles de pago actualizados que deben aplicarse antes de que se pueda procesar el pedido.</span><span class="sxs-lookup"><span data-stu-id="6ea3f-104">Alternatively, the bot may send HTTP status code `200 OK` along with an updated payment details that should be applied before the order can be processed.</span></span> <span data-ttu-id="6ea3f-105">En algunos casos, el bot puede determinar que la información actualizada no es válida y que el pedido no puede procesarse tal cual.</span><span class="sxs-lookup"><span data-stu-id="6ea3f-105">In some cases, your bot may determine that the updated information is invalid and the order cannot be processed as-is.</span></span> <span data-ttu-id="6ea3f-106">Por ejemplo, la dirección de envío del usuario puede especificar un país al que el proveedor del producto no realiza envíos.</span><span class="sxs-lookup"><span data-stu-id="6ea3f-106">For example, the user's shipping address may specify a country to which the product supplier does not ship.</span></span> <span data-ttu-id="6ea3f-107">En ese caso, el bot puede enviar el código de estado HTTP `200 OK` y un mensaje que rellena la propiedad de error del objeto de detalles de pago.</span><span class="sxs-lookup"><span data-stu-id="6ea3f-107">In that case, the bot may send HTTP status code `200 OK` and a message populating the error property of the payment details object.</span></span> <span data-ttu-id="6ea3f-108">El envío de cualquier código de estado HTTP en el rango de `400` o `500` producirá un error genérico para el cliente.</span><span class="sxs-lookup"><span data-stu-id="6ea3f-108">Sending any HTTP status code in the `400` or `500` range to will result in a generic error  for the customer.</span></span>

---
title: Diseñar bots de conocimientos | Microsoft Docs
description: Obtenga información sobre las diferentes maneras de diseñar un bot de conocimientos que busca y devuelve información en respuesta a la entrada o la consulta del usuario.
author: matvelloso
ms.author: mateusv
manager: kamrani
ms.topic: article
ms.prod: bot-framework
ms.date: 12/13/2017
ms.openlocfilehash: 5b510187f85a5384e976f239bc72c7aabf47f1cb
ms.sourcegitcommit: f95702d27abbd242c902eeb218d55a72df56ce56
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 07/19/2018
ms.locfileid: "39306496"
---
# <a name="design-knowledge-bots"></a><span data-ttu-id="c44bc-103">Diseñar bots de conocimientos</span><span class="sxs-lookup"><span data-stu-id="c44bc-103">Design knowledge bots</span></span>

<span data-ttu-id="c44bc-104">Puede diseñar un bot de conocimientos para proporcionar información sobre prácticamente cualquier tema.</span><span class="sxs-lookup"><span data-stu-id="c44bc-104">A knowledge bot can be designed to provide information about virtually any topic.</span></span> <span data-ttu-id="c44bc-105">Por ejemplo, un bot de conocimientos podría responder a preguntas sobre eventos, como "¿Qué actos sobre bots se celebran en esta conferencia?", "¿Cuándo es el próximo concierto de reggae?" o "¿Quiénes son Tame Impala?".</span><span class="sxs-lookup"><span data-stu-id="c44bc-105">For example, one knowledge bot might answer questions about events such as, "What bot events are there at this conference?", "When is the next Reggae show?", or "Who is Tame Impala?"</span></span> <span data-ttu-id="c44bc-106">Otro podría responder a preguntas sobre TI, por ejemplo, "¿Cómo actualizo mi sistema operativo?"</span><span class="sxs-lookup"><span data-stu-id="c44bc-106">Another might answer IT-related questions such as "How do I update my operating system?"</span></span> <span data-ttu-id="c44bc-107">o "¿Adónde tengo que ir para restablecer la contraseña?".</span><span class="sxs-lookup"><span data-stu-id="c44bc-107">or "Where do I go to reset my password?"</span></span> <span data-ttu-id="c44bc-108">Otro incluso podría responder a preguntas sobre los contactos, como "¿Quién es Fulano de Tal?"</span><span class="sxs-lookup"><span data-stu-id="c44bc-108">Yet another might answer questions about contacts such as "Who is John Doe?"</span></span> <span data-ttu-id="c44bc-109">o "¿Cuál es la dirección de correo electrónico de Mengano de Cual?".</span><span class="sxs-lookup"><span data-stu-id="c44bc-109">or "What is Jane Doe's email address?"</span></span> 

<span data-ttu-id="c44bc-110">Independientemente del uso para el que se haya diseñado un bot de conocimientos, su objetivo fundamental es siempre el mismo: buscar y devolver la información que el usuario ha solicitado mediante el aprovechamiento de un corpus de datos, como datos relacionales de una base de datos SQL, datos JSON de un almacén no relacional o documentos PDF de un almacén de documentos.</span><span class="sxs-lookup"><span data-stu-id="c44bc-110">Regardless of the use case for which a knowledge bot is designed, its basic objective is always the same: find and return the information that the user has requested by leveraging a body of data, such as relational data in a SQL database, JSON data in a non-relational store, or PDFs in a document store.</span></span> 

## <a name="search"></a><span data-ttu-id="c44bc-111">Search</span><span class="sxs-lookup"><span data-stu-id="c44bc-111">Search</span></span>

<span data-ttu-id="c44bc-112">La funcionalidad de búsqueda puede ser una herramienta valiosa en un bot.</span><span class="sxs-lookup"><span data-stu-id="c44bc-112">Search functionality can be a valuable tool within a bot.</span></span> 

<span data-ttu-id="c44bc-113">En primer lugar, la "búsqueda aproximada" permite que un bot devuelva información que probablemente sea pertinente para la pregunta del usuario, sin necesidad de que el usuario proporcione una entrada precisa.</span><span class="sxs-lookup"><span data-stu-id="c44bc-113">First, "fuzzy search" enables a bot to return information that's likely to be relevant to the user's question, without requiring that the user provide precise input.</span></span> <span data-ttu-id="c44bc-114">Por ejemplo, si el usuario le pide a un bot de conocimientos de música información sobre "impala" (en lugar de "Tame Impala"), el bot puede responder con información que probablemente sea pertinente para esa entrada.</span><span class="sxs-lookup"><span data-stu-id="c44bc-114">For example, if the user asks a music knowledge bot for information about "impala" (instead of "Tame Impala"), the bot can respond with information that's most likely to be relevant to that input.</span></span>

![Estructura de cuadro de diálogo](~/media/bot-service-design-pattern-knowledge-base/fuzzySearch2.png)

<span data-ttu-id="c44bc-116">Las puntuaciones de búsqueda indican el nivel de confianza de los resultados de una búsqueda específica, lo que permite a un bot ordenar los resultados en consecuencia, o incluso adaptar su comunicación en función del nivel de confianza.</span><span class="sxs-lookup"><span data-stu-id="c44bc-116">Search scores indicate the level of confidence for the results of a specific search, enabling a bot to order its results accordingly, or even tailor its communication based upon confidence level.</span></span> <span data-ttu-id="c44bc-117">Por ejemplo, si el nivel de confianza es alto, el bot puede responder: "Este es el evento que coincide mejor con la búsqueda:".</span><span class="sxs-lookup"><span data-stu-id="c44bc-117">For example, if confidence level is high, the bot may respond with "Here is the event that best matches your search:".</span></span>

![Estructura de cuadro de diálogo](~/media/bot-service-design-pattern-knowledge-base/searchScore2.png)

<span data-ttu-id="c44bc-119">Si el nivel de confianza es bajo, el bot podría: "Mmm… ¿Buscabas alguno de estos eventos?".</span><span class="sxs-lookup"><span data-stu-id="c44bc-119">If confidence level is low, the bot may respond with "Hmm... were you looking for any of these events?"</span></span>

![Estructura de cuadro de diálogo](~/media/bot-service-design-pattern-knowledge-base/searchScore1.png)

### <a name="using-search-to-guide-a-conversation"></a><span data-ttu-id="c44bc-121">Usar la búsqueda para guiar una conversación</span><span class="sxs-lookup"><span data-stu-id="c44bc-121">Using Search to Guide a Conversation</span></span>

<span data-ttu-id="c44bc-122">Si su motivación para crear un bot es habilitar la funcionalidad básica de motor de búsqueda, puede que ni siquiera necesite un bot.</span><span class="sxs-lookup"><span data-stu-id="c44bc-122">If your motivation for building a bot is to enable basic search engine functionality, then you may not need a bot at all.</span></span> <span data-ttu-id="c44bc-123">¿Qué ofrece a los usuarios una interfaz conversacional que no les puede proporcionar un motor de búsqueda típico de un explorador web?</span><span class="sxs-lookup"><span data-stu-id="c44bc-123">What does a conversational interface offer that users can't get from a typical search engine in a web browser?</span></span> 

<span data-ttu-id="c44bc-124">Los bots de conocimientos suelen ser más eficaces cuando están diseñados para guiar la conversación.</span><span class="sxs-lookup"><span data-stu-id="c44bc-124">Knowledge bots are generally most effective when they are designed to guide the conversation.</span></span> <span data-ttu-id="c44bc-125">Una conversación se compone de un intercambio entre el usuario y el bot, que ofrece al bot la oportunidad de formular preguntas aclaradoras, presentar opciones y validar los resultados de una manera que le es ajena a la búsqueda básica.</span><span class="sxs-lookup"><span data-stu-id="c44bc-125">A conversation is composed of a back-and-forth exchange between user and bot, which presents the bot with opportunities to ask clarifying questions, present options, and validate outcomes in a way that a basic search is incapable of doing.</span></span> <span data-ttu-id="c44bc-126">Por ejemplo, el bot siguiente guía al usuario en una conversación que clasifica y filtra un conjunto de datos hasta que encuentra la información que busca el usuario.</span><span class="sxs-lookup"><span data-stu-id="c44bc-126">For example, the following bot guides a user through a conversation that facets and filters a dataset until it locates the information that the user is seeking.</span></span>

![Estructura de cuadro de diálogo](~/media/bot-service-design-pattern-knowledge-base/guidedConvo1.png)

![Estructura de cuadro de diálogo](~/media/bot-service-design-pattern-knowledge-base/guidedConvo2.png)

![Estructura de cuadro de diálogo](~/media/bot-service-design-pattern-knowledge-base/guidedConvo3.png)

![Estructura de cuadro de diálogo](~/media/bot-service-design-pattern-knowledge-base/guidedConvo4.png)

<span data-ttu-id="c44bc-131">Al procesar la entrada de usuario en cada paso y presentar las opciones pertinentes, el bot guía al usuario hasta la información que está buscando.</span><span class="sxs-lookup"><span data-stu-id="c44bc-131">By processing the user's input in each step and presenting the relevant options, the bot guides the user to the information that they're seeking.</span></span> <span data-ttu-id="c44bc-132">Una vez que el bot ha proporcionado dicha información, puede incluso orientar al usuario sobre las formas más eficaces de encontrar información similar en el futuro.</span><span class="sxs-lookup"><span data-stu-id="c44bc-132">Once the bot delivers that information, it can even provide guidance about more efficient ways to find similar information in the future.</span></span> 

![Estructura de cuadro de diálogo](~/media/bot-service-design-pattern-knowledge-base/Training.png)

### <a name="azure-search"></a><span data-ttu-id="c44bc-134">Azure Search</span><span class="sxs-lookup"><span data-stu-id="c44bc-134">Azure Search</span></span>

<span data-ttu-id="c44bc-135">Mediante el uso de <a href="https://azure.microsoft.com/en-us/services/search/" target="_blank">Azure Search</a>, puede crear un índice de búsqueda eficaz en el que el bot puede realizar búsquedas fácilmente, así como clasificarlo y filtrarlo.</span><span class="sxs-lookup"><span data-stu-id="c44bc-135">By using <a href="https://azure.microsoft.com/en-us/services/search/" target="_blank">Azure Search</a>, you can create an efficient search index that a bot can easily search, facet, and filter.</span></span> <span data-ttu-id="c44bc-136">Imagine un índice de búsqueda creado mediante Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="c44bc-136">Consider a search index that is created using the Azure portal.</span></span>

![Estructura de cuadro de diálogo](~/media/bot-service-design-pattern-knowledge-base/search3.PNG)

<span data-ttu-id="c44bc-138">Como quiere poder acceder a todas las propiedades del almacén de datos, establece cada propiedad como "recuperable".</span><span class="sxs-lookup"><span data-stu-id="c44bc-138">You want to be able to access all properties of the data store, so you set each property as "retrievable."</span></span> <span data-ttu-id="c44bc-139">También quiere poder encontrar músicos por nombre, por lo que establece la propiedad **Name** como "buscable".</span><span class="sxs-lookup"><span data-stu-id="c44bc-139">You want to be able to find musicians by name, so you set the **Name** property as "searchable."</span></span> <span data-ttu-id="c44bc-140">Por último, quiere poder clasificar y filtrar los períodos en los que se enmarcan los músicos, de modo que marca la propiedad **Eras** como "clasificable" y "filtrable".</span><span class="sxs-lookup"><span data-stu-id="c44bc-140">Finally, you want to be able to facet filter over musicians' eras, so you mark the **Eras** property as both "facetable" and "filterable."</span></span> 

<span data-ttu-id="c44bc-141">Las categorías determinan los valores que existen en el almacén de datos para una propiedad determinada, junto con la magnitud de cada valor.</span><span class="sxs-lookup"><span data-stu-id="c44bc-141">Faceting determines the values that exist in the data store for a given property, along with the magnitude of each value.</span></span> <span data-ttu-id="c44bc-142">Por ejemplo, en esta captura de pantalla se muestra que hay cinco períodos musicales distintos en el almacén de datos:</span><span class="sxs-lookup"><span data-stu-id="c44bc-142">For example, this screenshot shows that there are 5 distinct eras in the data store:</span></span>

![Estructura de cuadro de diálogo](~/media/bot-service-design-pattern-knowledge-base/facet.png)

<span data-ttu-id="c44bc-144">Los filtros, a su vez, seleccionan solo las instancias especificadas de una propiedad determinada.</span><span class="sxs-lookup"><span data-stu-id="c44bc-144">Filtering, in turn, selects only the specified instances of a certain property.</span></span> <span data-ttu-id="c44bc-145">Por ejemplo, puede filtrar el conjunto de resultados anterior para que solo contenga los elementos en los que el período (**Era**) es igual a "Romántico".</span><span class="sxs-lookup"><span data-stu-id="c44bc-145">For example, you could filter the result set above to contain only items where **Era** is equal to "Romantic."</span></span> 

> [!NOTE]
> <span data-ttu-id="c44bc-146">Vea <a href="https://github.com/ryanvolum/AzureSearchBot" target="_blank">un bot de ejemplo</a> para obtener un ejemplo completo de un bot de conocimientos creado con Azure Document DB, Azure Search y Microsoft Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="c44bc-146">See <a href="https://github.com/ryanvolum/AzureSearchBot" target="_blank">a sample bot</a> for a complete example of a knowledge bot that is created using Azure Document DB, Azure Search, and the Microsoft Bot Framework.</span></span>
> 
> <span data-ttu-id="c44bc-147">Para simplificar, en el ejemplo anterior se muestra un índice de búsqueda creado mediante Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="c44bc-147">For the sake of simplicity, the example above shows a search index that is created using the Azure portal.</span></span> 
> <span data-ttu-id="c44bc-148">Los índices también pueden crearse mediante programación.</span><span class="sxs-lookup"><span data-stu-id="c44bc-148">Indices can also be created programatically.</span></span>

## <a name="qna-maker"></a><span data-ttu-id="c44bc-149">QnA Maker</span><span class="sxs-lookup"><span data-stu-id="c44bc-149">QnA Maker</span></span>

<span data-ttu-id="c44bc-150">Algunos bots de conocimientos podrían simplemente aspirar a responder preguntas más frecuentes (P+F).</span><span class="sxs-lookup"><span data-stu-id="c44bc-150">Some knowledge bots may simply aim to answer frequently asked questions (FAQs).</span></span> 
<span data-ttu-id="c44bc-151"><a href="https://www.microsoft.com/cognitive-services/en-us/qnamaker" target="_blank">QnA Maker</a> es una herramienta eficaz diseñada para usarse específicamente en este caso.</span><span class="sxs-lookup"><span data-stu-id="c44bc-151"><a href="https://www.microsoft.com/cognitive-services/en-us/qnamaker" target="_blank">QnA Maker</a> is a powerful tool that's designed specifically for this use case.</span></span> <span data-ttu-id="c44bc-152">QnA Maker cuenta con la capacidad integrada de extraer las preguntas y las respuestas de un sitio existente de preguntas más frecuentes y, además, permite configurar manualmente una lista personalizada de preguntas y respuestas.</span><span class="sxs-lookup"><span data-stu-id="c44bc-152">QnA Maker has the built-in ability to scrape questions and answers from an existing FAQ site, plus it also allows you to manually configure your own custom list of questions and answers.</span></span> <span data-ttu-id="c44bc-153">QnA Maker dispone de capacidades de procesamiento del lenguaje natural, lo que le permite proporcionar respuestas incluso a preguntas escritas de una manera ligeramente diferente a la esperada.</span><span class="sxs-lookup"><span data-stu-id="c44bc-153">QnA Maker has natural language processing abilities, enabling it to even provide answers to questions that are worded slightly differently than expected.</span></span> <span data-ttu-id="c44bc-154">Aun así, no tiene la capacidad de entender el lenguaje semántico.</span><span class="sxs-lookup"><span data-stu-id="c44bc-154">However, it does not have semantic language understanding abilities.</span></span> <span data-ttu-id="c44bc-155">Por ejemplo, no puede saber que un cachorro es un tipo de perro.</span><span class="sxs-lookup"><span data-stu-id="c44bc-155">It cannot determine that a puppy is a type of dog, for example.</span></span> 

<span data-ttu-id="c44bc-156">Mediante la interfaz web de QnA Maker, puede configurar una base de conocimientos con tres pares de preguntas y respuestas:</span><span class="sxs-lookup"><span data-stu-id="c44bc-156">Using the QnA Maker web interface, you can configure a knowledge base with three question and answer pairs:</span></span> 

![Estructura de cuadro de diálogo](~/media/bot-service-design-pattern-knowledge-base/KnowledgeBaseConfig.png)

<span data-ttu-id="c44bc-158">Después, para probarla, formule una serie de preguntas:</span><span class="sxs-lookup"><span data-stu-id="c44bc-158">Then, you can test it by asking a series of questions:</span></span> 

![Estructura de cuadro de diálogo](~/media/bot-service-design-pattern-knowledge-base/exampleQnAConvo.png)

<span data-ttu-id="c44bc-160">El bot responde correctamente a las preguntas que se asignan directamente a las que se han configurado en la base de conocimientos.</span><span class="sxs-lookup"><span data-stu-id="c44bc-160">The bot correctly answers the questions that directly map to the ones that were configured in the knowledge base.</span></span> <span data-ttu-id="c44bc-161">Aun así, responde incorrectamente a la pregunta "Can I bring my tea?" (¿Puedo llevar mi té?), porque esta pregunta tiene una estructura más parecida a la de la pregunta "Can I bring my vodka? (¿Puedo llevar mi vodka?).</span><span class="sxs-lookup"><span data-stu-id="c44bc-161">However, it incorrectly responds to the question "can I bring my tea?", because this question is most similar in structure to the question "can I bring my vodka?."</span></span> <span data-ttu-id="c44bc-162">La razón de que QnA Maker proporcione una respuesta incorrecta es que no entiende intrínsecamente el significado de las palabras.</span><span class="sxs-lookup"><span data-stu-id="c44bc-162">The reason QnA Maker gives an incorrect answer is that it does not inherently understand the meaning of words.</span></span> <span data-ttu-id="c44bc-163">No sabe que el té es un tipo de bebida no alcohólica,</span><span class="sxs-lookup"><span data-stu-id="c44bc-163">It does not know that "tea" is a type of nonalcoholic drink.</span></span> <span data-ttu-id="c44bc-164">por lo que responde que "Alcohol is not allowed" (No está permitido el alcohol).</span><span class="sxs-lookup"><span data-stu-id="c44bc-164">Therefore, it answers "Alcohol is not allowed."</span></span>

> [!TIP]
> <span data-ttu-id="c44bc-165">Cree los pares de QnA y, después, pruebe y vuelva a entrenar el bot mediante el botón "Inspeccionar" situado bajo la conversación, a fin de seleccionar una respuesta alternativa para cada respuesta incorrecta que se ha proporcionado.</span><span class="sxs-lookup"><span data-stu-id="c44bc-165">Create your QnA pairs and then test and re-train your bot by using the "Inspect" button under the conversation to select an alternative answer for each incorrect answer that is given.</span></span> 

## <a name="luis"></a><span data-ttu-id="c44bc-166">LUIS</span><span class="sxs-lookup"><span data-stu-id="c44bc-166">LUIS</span></span>

<span data-ttu-id="c44bc-167">Algunos bots de conocimientos requieren capacidades de procesamiento del lenguaje natural (NLP) para poder analizar los mensajes de un usuario con el objetivo de determinar su intención.</span><span class="sxs-lookup"><span data-stu-id="c44bc-167">Some knowledge bots require natural language processing (NLP) capabilities so that they can analyze a user's messages to determine the user's intent.</span></span> 
<span data-ttu-id="c44bc-168">[Language Understanding (LUIS)](https://www.luis.ai) proporciona un medio rápido y eficaz de agregar capacidades de NLP a los bots.</span><span class="sxs-lookup"><span data-stu-id="c44bc-168">[Language Understanding (LUIS)](https://www.luis.ai) provides a fast and effective means of adding NLP capabilities to bots.</span></span> <span data-ttu-id="c44bc-169">LUIS no solo le ofrece la posibilidad de usar modelos existentes precompilados de Bing y Cortana siempre que cumplan sus necesidades, sino que le permite crear sus propios modelos especializados.</span><span class="sxs-lookup"><span data-stu-id="c44bc-169">LUIS enables you to use existing, pre-built models from Bing and Cortana whenever they meet your needs, as well as allowing you to create specialized models of your own.</span></span> 

<span data-ttu-id="c44bc-170">Al trabajar con grandes conjuntos de datos, no es necesariamente factible entrenar un modelo de NLP con cada variación de una entidad.</span><span class="sxs-lookup"><span data-stu-id="c44bc-170">When working with huge datasets, it's not necessarily feasible to train an NLP model with every variation of an entity.</span></span> <span data-ttu-id="c44bc-171">Por ejemplo, en un bot de reproducción de música, un usuario podría enviar el mensaje "Reproducir reggae", "Reproducir Bob Marley" o "Reproducir 'One love'".</span><span class="sxs-lookup"><span data-stu-id="c44bc-171">In a music playing bot, for example, a user might message "Play Reggae", "Play Bob Marley", or "Play One Love".</span></span> <span data-ttu-id="c44bc-172">Aunque un bot podría asignar cada uno de estos mensajes a la intención "playMusic" sin que se le haya entrenado con todos los nombres de artistas, géneros y nombres de canciones, un modelo de NLP no sería capaz de identificar si la entidad es un género, un artista o una canción.</span><span class="sxs-lookup"><span data-stu-id="c44bc-172">Although a bot could map each of these messages to the intent "playMusic", without being trained with every artist, genre and song name, an NLP model would not be able to identify whether the entity is a genre, artist or song.</span></span> <span data-ttu-id="c44bc-173">Al usar un modelo de NLP para identificar la entidad genérica de tipo "música", el bot podría buscar esa entidad en su almacén de datos y continuar a partir de ahí.</span><span class="sxs-lookup"><span data-stu-id="c44bc-173">By using an NLP model to identify the generic entity of type "music", the bot could search its data store for that entity, and proceed from there.</span></span> 

## <a name="combining-search-qna-maker-andor-luis"></a><span data-ttu-id="c44bc-174">Combinar Search, QnA Maker y LUIS</span><span class="sxs-lookup"><span data-stu-id="c44bc-174">Combining Search, QnA Maker, and/or LUIS</span></span>

<span data-ttu-id="c44bc-175">Search, QnA Maker y LUIS son herramientas eficaces por sí mismas, pero también se pueden combinar para crear bots de conocimientos que posean más de una de estas capacidades.</span><span class="sxs-lookup"><span data-stu-id="c44bc-175">Search, QnA Maker and LUIS are each powerful tools in their own right, but they can also be combined to build knowledge bots that possess more than one of those capabilities.</span></span>

### <a name="luis-and-search"></a><span data-ttu-id="c44bc-176">LUIS y Search</span><span class="sxs-lookup"><span data-stu-id="c44bc-176">LUIS and Search</span></span>

<span data-ttu-id="c44bc-177">En el ejemplo de bot de festivales de música [tratado anteriormente](#search), el bot guía la conversación mostrando botones que representan las bandas del cartel.</span><span class="sxs-lookup"><span data-stu-id="c44bc-177">In the music festival bot example [covered earlier](#search), the bot guides the conversation by showing buttons that represent the lineup.</span></span> <span data-ttu-id="c44bc-178">Aun así, este bot también podría incorporar comprensión del lenguaje natural si usara LUIS para determinar la intención y las entidades de preguntas como "What kind of music does Romit Girdhar play?" (¿Qué tipo de música toca Romit Girdhar?).</span><span class="sxs-lookup"><span data-stu-id="c44bc-178">However, this bot could also incorporate natural language understanding by using LUIS to determine intent and entities within questions such as "what kind of music does Romit Girdhar play?".</span></span> <span data-ttu-id="c44bc-179">Después, el bot podría buscar el nombre del músico en un índice de Azure Search.</span><span class="sxs-lookup"><span data-stu-id="c44bc-179">The bot could then search against an Azure Search index using musician name.</span></span> 
 
<span data-ttu-id="c44bc-180">No sería factible entrenar el modelo con todos los nombres de músicos posibles, ya que hay muchísimos valores potenciales, pero se podrían proporcionar los ejemplos representativos suficientes para que LUIS identificase correctamente la entidad en cuestión.</span><span class="sxs-lookup"><span data-stu-id="c44bc-180">It wouldn't be feasible to train the model with every possible musician name since there are so many potential values, but you could provide enough representative examples for LUIS to properly identify the entity at hand.</span></span>  <span data-ttu-id="c44bc-181">Por ejemplo, imagine que entrena el modelo con ejemplos de músicos:</span><span class="sxs-lookup"><span data-stu-id="c44bc-181">For example, consider that you train your model by providing examples of musicians:</span></span> 

<span data-ttu-id="c44bc-182">![Estructura de cuadro de diálogo](~/media/bot-service-design-pattern-knowledge-base/answerGenre.png)
![Estructura de cuadro de diálogo](~/media/bot-service-design-pattern-knowledge-base/answerGenreOneWord.png)</span><span class="sxs-lookup"><span data-stu-id="c44bc-182">![Dialog Structure](~/media/bot-service-design-pattern-knowledge-base/answerGenre.png)
![Dialog Structure](~/media/bot-service-design-pattern-knowledge-base/answerGenreOneWord.png)</span></span>

<span data-ttu-id="c44bc-183">Al probar este modelo con expresiones nuevas como "¿Qué tipo de música tocan los Beatles?", LUIS determina correctamente la intención "answerGenre" e identifica la entidad "los Beatles".</span><span class="sxs-lookup"><span data-stu-id="c44bc-183">When you test this model with new utterances like, "what kind of music do the beatles play?", LUIS successfully determines the intent "answerGenre" and the identifies entity "the beatles."</span></span> <span data-ttu-id="c44bc-184">A pesar de ello, si envía una pregunta más larga, como "¿Qué tipo de música tocan The Devil Makes Three?", LUIS identifica "The Devil" como la entidad.</span><span class="sxs-lookup"><span data-stu-id="c44bc-184">However, if you submit a longer question such as "what kind of music does the devil makes three play?", LUIS identifies "the devil" as the entity.</span></span>

![Estructura de cuadro de diálogo](~/media/bot-service-design-pattern-knowledge-base/devilMakesThreeScore.png)

<span data-ttu-id="c44bc-186">Si entrena el modelo con entidades de ejemplo representativas del conjunto de datos subyacente, puede aumentar la precisión de la comprensión del lenguaje del bot.</span><span class="sxs-lookup"><span data-stu-id="c44bc-186">By training the model with example entities that are representative of the underlying dataset, you can increase the accuracy of your bot's language understanding.</span></span> 

> [!TIP]
> <span data-ttu-id="c44bc-187">En general, es mejor que el modelo se equivoque por identificar demasiadas palabras durante el reconocimiento de entidades (por ejemplo, identificar "John Smith, por favor" en la expresión "Llamar a John Smith, por favor"), en vez de por identificar demasiadas pocas palabras (por ejemplo, identificar "John" en la expresión "Llamar a John Smith, por favor").</span><span class="sxs-lookup"><span data-stu-id="c44bc-187">In general, it is better for the model to err by identifying excess words in its entity recognition, e.g., identify "John Smith please" from the utterance "Call John Smith please", rather than identify too few words, e.g., identify "John" from the utterance "Call John Smith please".</span></span> <span data-ttu-id="c44bc-188">El índice de búsqueda pasará por alto las palabras irrelevantes, como "por favor", en la frase "John Smith, por favor".</span><span class="sxs-lookup"><span data-stu-id="c44bc-188">The search index will ignore irrelevant words such as "please" in the phrase "John Smith please".</span></span> 

### <a name="luis-and-qna-maker"></a><span data-ttu-id="c44bc-189">LUIS y QnA Maker</span><span class="sxs-lookup"><span data-stu-id="c44bc-189">LUIS and QnA Maker</span></span>

<span data-ttu-id="c44bc-190">Algunos bots de conocimientos podría usar QnA Maker para responder a preguntas básicas en combinación con LUIS para determinar las intenciones, extraer entidades e invocar cuadros de diálogo más elaborados.</span><span class="sxs-lookup"><span data-stu-id="c44bc-190">Some knowledge bots might use QnA Maker to answer basic questions in combination with LUIS to determine intents, extract entities and invoke more elaborate dialogs.</span></span> <span data-ttu-id="c44bc-191">Por ejemplo, imagine un bot simple del Servicio de asistencia del departamento de TI.</span><span class="sxs-lookup"><span data-stu-id="c44bc-191">For example, consider a simple IT Help Desk bot.</span></span> <span data-ttu-id="c44bc-192">Este bot podría usar QnA Maker para responder a preguntas básicas sobre Windows o Outlook, pero también podría tener que facilitar escenarios como el restablecimiento de contraseñas, que requiere el reconocimiento de intenciones y la comunicación entre el usuario y bot.</span><span class="sxs-lookup"><span data-stu-id="c44bc-192">This bot may use QnA Maker to answer basic questions about Windows or Outlook, but it might also need to facilitate scenarios like password reset, which require intent recognition and back-and-forth communication between user and bot.</span></span> <span data-ttu-id="c44bc-193">Un bot puede implementar un híbrido de LUIS y QnA Maker de varias maneras:</span><span class="sxs-lookup"><span data-stu-id="c44bc-193">There are a few ways that a bot may implement a hybrid of LUIS and QnA Maker:</span></span>

1. <span data-ttu-id="c44bc-194">Puede llamar a QnA Maker y LUIS al mismo tiempo y responder al usuario con la información del primero que devuelva una puntuación con un umbral específico.</span><span class="sxs-lookup"><span data-stu-id="c44bc-194">Call both QnA Maker and LUIS at the same time, and respond to the user by using information from the first one that returns a score of a specific threshold.</span></span> 
2. <span data-ttu-id="c44bc-195">Puede llamar primero a LUIS y, si ninguna intención cumple una puntuación de umbral específica, se desencadena la intención "None" y llama a QnA Maker.</span><span class="sxs-lookup"><span data-stu-id="c44bc-195">Call LUIS first, and if no intent meets a specific threshold score, i.e., "None" intent is triggered, then call QnA Maker.</span></span> <span data-ttu-id="c44bc-196">También puede crear una intención de LUIS para QnA Maker y proporcionarle al modelo de LUIS las preguntas de QnA de ejemplo asignadas a "QnAIntent."</span><span class="sxs-lookup"><span data-stu-id="c44bc-196">Alternatively, create a LUIS intent for QnA Maker, feeding your LUIS model with example QnA questions that map to "QnAIntent."</span></span> 
3. <span data-ttu-id="c44bc-197">Puede llamar primero a QnA Maker y, si ninguna respuesta cumple una puntuación de umbral específica, llamar a LUIS.</span><span class="sxs-lookup"><span data-stu-id="c44bc-197">Call QnA Maker first, and if no answer meets a specific threshold score, then call LUIS.</span></span> 

<span data-ttu-id="c44bc-198">Bot Builder SDK ofrece compatibilidad integrada con LUIS y QnA Maker.</span><span class="sxs-lookup"><span data-stu-id="c44bc-198">The Bot Builder SDK provide built-in support for LUIS and QnA Maker.</span></span> <span data-ttu-id="c44bc-199">Esto permite desencadenar cuadros de diálogo o responder a preguntas automáticamente con LUIS o QnA Maker sin necesidad de implementar llamadas personalizadas a ninguna de estas herramientas.</span><span class="sxs-lookup"><span data-stu-id="c44bc-199">This enables you to trigger dialogs or automatically answer questions using LUIS and/or QnA Maker without having to implement custom calls to either tool.</span></span> <span data-ttu-id="c44bc-200">Vea las [plantillas de servicio de bot](bot-service-concept-templates.md) para más información.</span><span class="sxs-lookup"><span data-stu-id="c44bc-200">See the [bot service templates](bot-service-concept-templates.md) for more information.</span></span>

> [!TIP]
> <span data-ttu-id="c44bc-201">Al implementar una combinación de LUIS, QnA Maker y Azure Search, pruebe las entradas con cada una de las herramientas para determinar la puntuación de umbral de cada uno de los modelos.</span><span class="sxs-lookup"><span data-stu-id="c44bc-201">When implementing a combination of LUIS, QnA Maker, and/or Azure Search, test inputs with each of the tools to determine the threshold score for each of your models.</span></span> <span data-ttu-id="c44bc-202">LUIS, QnA Maker y Azure Search generan puntuaciones mediante criterios de puntuación diferentes, por lo que las puntuaciones generadas en estas herramientas no son comparables directamente.</span><span class="sxs-lookup"><span data-stu-id="c44bc-202">LUIS, QnA Maker, and Azure Search each generate scores by using a different scoring criteria, so the scores generated across these tools are not directly comparable.</span></span> <span data-ttu-id="c44bc-203">Además, LUIS y QnA Maker normalizan las puntuaciones.</span><span class="sxs-lookup"><span data-stu-id="c44bc-203">Additionally, LUIS and QnA Maker normalize scores.</span></span> <span data-ttu-id="c44bc-204">Una puntuación determinada podría considerarse "buena" en un modelo de LUIS, pero no en otro modelo.</span><span class="sxs-lookup"><span data-stu-id="c44bc-204">A certain score may be considered 'good' in one LUIS model but not so in another model.</span></span> 

## <a name="sample-code"></a><span data-ttu-id="c44bc-205">Código de ejemplo</span><span class="sxs-lookup"><span data-stu-id="c44bc-205">Sample code</span></span>

- <span data-ttu-id="c44bc-206">Para consultar un ejemplo en el que se muestra cómo crear un bot de conocimientos básico mediante Bot Builder SDK para. NET, vea el <a href="https://github.com/Microsoft/BotBuilder-Samples/tree/master/CSharp/sample-KnowledgeBot" target="_blank">ejemplo de bot de conocimientos</a> en GitHub.</span><span class="sxs-lookup"><span data-stu-id="c44bc-206">For a sample that shows how to create a basic knowledge bot using the Bot Builder SDK for .NET, see the <a href="https://github.com/Microsoft/BotBuilder-Samples/tree/master/CSharp/sample-KnowledgeBot" target="_blank">Knowledge Bot sample</a> in GitHub.</span></span> 
- <span data-ttu-id="c44bc-207">Para consultar un ejemplo en el que se muestra cómo crear bots de conocimientos más complejos mediante Bot Builder SDK para. NET, vea el <a href="https://github.com/Microsoft/BotBuilder-Samples/tree/master/CSharp/demo-Search" target="_blank">ejemplo de bots con tecnología de Search</a> en GitHub.</span><span class="sxs-lookup"><span data-stu-id="c44bc-207">For a sample that shows how to create more complex knowledge bots using the Bot Builder SDK for .NET, see the <a href="https://github.com/Microsoft/BotBuilder-Samples/tree/master/CSharp/demo-Search" target="_blank">Search-powered Bots sample</a> in GitHub.</span></span>

[qnamakerTemplate]: https://docs.botframework.com/en-us/azure-bot-service/templates/qnamaker/#navtitle

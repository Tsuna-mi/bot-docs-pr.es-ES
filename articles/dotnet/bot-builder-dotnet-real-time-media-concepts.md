---
title: Llamada multimedia en tiempo real con Skype | Microsoft Docs
description: Comprenda los conceptos clave en la creación de un bot que puede llevar a llamadas de audio y vídeo en tiempo real con Skype, mediante el SDK de Bot Builder para. NET.
author: ssulzer
ms.author: ssulzer
manager: kamrani
ms.topic: article
ms.prod: bot-framework
ms.date: 12/13/2017
monikerRange: azure-bot-service-3.0
ms.openlocfilehash: eed4ac20664d15fbc40969551a1f23fc91b4f120
ms.sourcegitcommit: 2dc75701b169d822c9499e393439161bc87639d2
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 08/24/2018
ms.locfileid: "42906229"
---
# <a name="real-time-media-calling-with-skype"></a><span data-ttu-id="9671a-103">Llamada multimedia en tiempo real con Skype</span><span class="sxs-lookup"><span data-stu-id="9671a-103">Real-time media calling with Skype</span></span>

[!INCLUDE [pre-release-label](../includes/pre-release-label-v3.md)]

<span data-ttu-id="9671a-104">La plataforma multimedia en tiempo real para bots agrega una nueva dimensión a cómo los bots pueden interactuar con los usuarios al permitir las modalidades de voz, vídeo y pantalla compartida en tiempo real.</span><span class="sxs-lookup"><span data-stu-id="9671a-104">The Real-Time Media Platform for Bots adds a new dimension to how bots can interact with users by enabling real-time voice, video and screen sharing modalities.</span></span> <span data-ttu-id="9671a-105">Esta plataforma ofrece la posibilidad de crear bots de entretenimiento, educativos y de ayuda atractivos e interactivos.</span><span class="sxs-lookup"><span data-stu-id="9671a-105">This provides the capability to build compelling and interactive entertainment, educational, and assistance bots.</span></span> <span data-ttu-id="9671a-106">Los usuarios se comunican con bots multimedia en tiempo real mediante Skype.</span><span class="sxs-lookup"><span data-stu-id="9671a-106">Users communicate with real-time media bots using Skype.</span></span>

<span data-ttu-id="9671a-107">Esta es una funcionalidad avanzada que permite que el bot envíe y reciba contenido de voz y vídeo *trama a trama y fotograma a fotograma*.</span><span class="sxs-lookup"><span data-stu-id="9671a-107">This is an advanced capability which allows the bot to send and receive voice and video content *frame by frame*.</span></span> <span data-ttu-id="9671a-108">El bot tiene acceso "sin procesar" a las modalidades de voz, vídeo y pantalla compartida en tiempo real.</span><span class="sxs-lookup"><span data-stu-id="9671a-108">The bot has "raw" access to the voice, video and screen-sharing real-time modalities.</span></span> <span data-ttu-id="9671a-109">Por ejemplo, a medida que habla el usuario, el bot recibe 50 tramas de audio por segundo, cada una de ellas con 20 milisegundos (ms) de audio.</span><span class="sxs-lookup"><span data-stu-id="9671a-109">For example, as the user speaks, the bot will receive 50 audio frames per second, with each frame containing 20 milliseconds (ms) of audio.</span></span> <span data-ttu-id="9671a-110">El bot puede realizar el reconocimiento de voz en tiempo real a medida que se reciben las tramas de audio, en lugar de tener que esperar una grabación después de que el usuario ha dejado de hablar.</span><span class="sxs-lookup"><span data-stu-id="9671a-110">The bot can perform real-time speech recognition as the audio frames are received, rather than having to wait for a recording after the user has stopped speaking.</span></span> <span data-ttu-id="9671a-111">Junto con el audio, el bot también puede enviar al usuario vídeo con una resolución de alta definición de 30 fotogramas por segundo.</span><span class="sxs-lookup"><span data-stu-id="9671a-111">The bot can also send high-definition-resolution video to the user at 30 frames per second, along with audio.</span></span>

<span data-ttu-id="9671a-112">La plataforma multimedia en tiempo real para bots funciona con la nube de llamadas de Skype y se encarga de la configuración de llamadas y del establecimiento de sesiones multimedia, lo que permite que el bot entable una conversación de voz y (opcionalmente) de vídeo con el autor de una llamada en Skype.</span><span class="sxs-lookup"><span data-stu-id="9671a-112">The Real-Time Media Platform for Bots works with the Skype Calling Cloud to take care of call setup and media session establishment, enabling the bot to engage in a voice and (optionally) video conversation with a Skype caller.</span></span> <span data-ttu-id="9671a-113">La plataforma proporciona un sencillo "socket" a modo de API para que el bot envíe y reciba elementos multimedia, y controla la codificación y decodificación en tiempo real de elementos multimedia mediante códecs como SILK para audio y H.264 para vídeo.</span><span class="sxs-lookup"><span data-stu-id="9671a-113">The platform provides a simple "socket"-like API for the bot to send and receive media, and handles the real-time encoding and decoding of media, using codecs such as SILK for audio and H.264 for video.</span></span> <span data-ttu-id="9671a-114">Un bot multimedia en tiempo real puede participar también en videollamadas grupales de Skype con varios participantes.</span><span class="sxs-lookup"><span data-stu-id="9671a-114">A real-time media bot may also participate in Skype group video calls with multiple participants.</span></span>

<span data-ttu-id="9671a-115">En este artículo se presentan los conceptos clave relacionados con la creación de un bot que puede llevar a cabo llamadas de audio y vídeo en tiempo real con Skype y se proporcionan vínculos a recursos de interés para los desarrolladores.</span><span class="sxs-lookup"><span data-stu-id="9671a-115">This article introduces key concepts related to building a bot that can conduct real-time audio and video calls with Skype and provides links to relevant developer resources.</span></span>

## <a name="media-session"></a><span data-ttu-id="9671a-116">Sesión multimedia</span><span class="sxs-lookup"><span data-stu-id="9671a-116">Media session</span></span>
<span data-ttu-id="9671a-117">Cuando un bot multimedia en tiempo real responde a una llamada entrante de Skype, decide si se debe admitir las modalidades de audio y vídeo, o solo audio.</span><span class="sxs-lookup"><span data-stu-id="9671a-117">When a real-time media bot answers an incoming Skype call, it decides whether to support both audio and video modalities, or just audio.</span></span> <span data-ttu-id="9671a-118">Para cada modalidad compatible, el bot puede enviar y recibir elementos multimedia, recibir solo o enviar solo.</span><span class="sxs-lookup"><span data-stu-id="9671a-118">For each supported modality, the bot can either both send and receive media, receive only, or send only.</span></span> <span data-ttu-id="9671a-119">Por ejemplo, puede que un bot quiera enviar y recibir audio, pero solo enviar vídeo (ya que no quiere recibir el vídeo del autor de la llamada en Skype).</span><span class="sxs-lookup"><span data-stu-id="9671a-119">For example, a bot may wish to both send and receive audio, but only send video (as it does not want to receive the video of the Skype caller).</span></span> <span data-ttu-id="9671a-120">El conjunto de modalidades de audio y vídeo establecido entre el autor de la llamada de Skype y el bot se conoce como **sesión multimedia**.</span><span class="sxs-lookup"><span data-stu-id="9671a-120">The set of audio and video modalities established between the Skype caller and the bot is called the **media session**.</span></span>

<span data-ttu-id="9671a-121">Hay dos modalidades de vídeo admitidas: "vídeo principal" y "pantalla compartida".</span><span class="sxs-lookup"><span data-stu-id="9671a-121">There are two video modalities supported: "main video" and "screen sharing".</span></span> <span data-ttu-id="9671a-122">El vídeo principal transmite el vídeo que el bot genera, o reproduce, al autor de la llamada, y transmite el vídeo del autor de la llamada (normalmente desde la cámara web del usuario) al bot.</span><span class="sxs-lookup"><span data-stu-id="9671a-122">Main video transmits the video the bot generates, or plays back, to the caller, and transmits the video of the caller (typically from the user’s webcam) to the bot.</span></span> <span data-ttu-id="9671a-123">La modalidad de pantalla compartida permite al autor de la llamada compartir su pantalla (como un vídeo) con el bot.</span><span class="sxs-lookup"><span data-stu-id="9671a-123">The screen sharing modality allows the caller to share his or her screen (as a video) with the bot.</span></span> <span data-ttu-id="9671a-124">El bot no puede enviar el vídeo en pantalla compartida al usuario.</span><span class="sxs-lookup"><span data-stu-id="9671a-124">The bot cannot send screen sharing video to the user.</span></span>

<span data-ttu-id="9671a-125">Cuando se une a una **videollamada grupal** en Skype de varios participantes, el bot multimedia en tiempo real puede admitir la recepción de varias secuencias de vídeo principal a la vez.</span><span class="sxs-lookup"><span data-stu-id="9671a-125">When joined to a multiparty Skype **group video call**, the real-time media bot can support receiving multiple main video streams simultaneously.</span></span> <span data-ttu-id="9671a-126">Esto permite al bot "ver" más de un participante en la videollamada grupal.</span><span class="sxs-lookup"><span data-stu-id="9671a-126">This allows the bot to "see" more than one participant in the group video call.</span></span>

## <a name="frames-and-frame-rate"></a><span data-ttu-id="9671a-127">Tramas/fotogramas y velocidad de trama/fotograma</span><span class="sxs-lookup"><span data-stu-id="9671a-127">Frames and frame rate</span></span>
<span data-ttu-id="9671a-128">Un bot multimedia en tiempo real interactúa directamente con las modalidades de audio y vídeo de una llamada de Skype.</span><span class="sxs-lookup"><span data-stu-id="9671a-128">A real-time media bot interacts directly with the audio and video modalities of a Skype call.</span></span> <span data-ttu-id="9671a-129">Esto significa que el bot envía o recibe elementos multimedia como una secuencia de **tramas/fotogramas**, donde cada una representa una unidad de contenido.</span><span class="sxs-lookup"><span data-stu-id="9671a-129">This means the bot is sending and/or receiving media as a sequence of **frames**, where each frame represents a unit of content.</span></span> <span data-ttu-id="9671a-130">Un segundo de audio se puede transmitir como una secuencia de 50 tramas, cada una de ellas con 20 milisegundos (ms) (1/50 milésimas de segundo) de contenido.</span><span class="sxs-lookup"><span data-stu-id="9671a-130">One second of audio may be transmitted as a sequence of 50 frames, with each frame containing 20 milliseconds (ms) (1/50th of a second) of content.</span></span> <span data-ttu-id="9671a-131">Un segundo de vídeo se puede segmentar como una secuencia de 30 imágenes fijas, cada una de las cuales se verá durante justo 33 ms (1/30 milésimas de segundo) antes de que se muestre el siguiente fotograma de vídeo.</span><span class="sxs-lookup"><span data-stu-id="9671a-131">One second worth of video may be sliced as a sequence of 30 still images, each intended to be viewed for just 33ms (1/30th of a second) before the next video frame is displayed.</span></span> <span data-ttu-id="9671a-132">El número de fotogramas transmitidos o representados por segundo se denomina **velocidad de fotograma**.</span><span class="sxs-lookup"><span data-stu-id="9671a-132">The number of frames transmitted or rendered per second is called the **frame rate**.</span></span> <span data-ttu-id="9671a-133">"30fps" indica 30 fotogramas por segundo.</span><span class="sxs-lookup"><span data-stu-id="9671a-133">"30fps" indicates 30 frames per second.</span></span>

## <a name="audio-format"></a><span data-ttu-id="9671a-134">Formato de audio</span><span class="sxs-lookup"><span data-stu-id="9671a-134">Audio format</span></span>
<span data-ttu-id="9671a-135">Cada segundo de audio se representa como 16 000 **muestras**, y cada una de ellas almacena 16 bits de datos.</span><span class="sxs-lookup"><span data-stu-id="9671a-135">Each second of audio is represented as 16,000 **samples**, with each sample storing 16-bits of data.</span></span> <span data-ttu-id="9671a-136">Una trama de audio de 20 ms contiene 320 muestras (640 bytes de datos).</span><span class="sxs-lookup"><span data-stu-id="9671a-136">A 20ms audio frame contains 320 samples (640 bytes of data).</span></span>

## <a name="video-format"></a><span data-ttu-id="9671a-137">Formato de vídeo</span><span class="sxs-lookup"><span data-stu-id="9671a-137">Video format</span></span>
<span data-ttu-id="9671a-138">Existen varios formatos de vídeo admitidos.</span><span class="sxs-lookup"><span data-stu-id="9671a-138">There are several formats supported for video.</span></span> <span data-ttu-id="9671a-139">Las dos propiedades principales de un formato de vídeo son su **tamaño de fotograma** y su **formato de color**.</span><span class="sxs-lookup"><span data-stu-id="9671a-139">Two key properties of a video format are its **frame size** and **color format**.</span></span> <span data-ttu-id="9671a-140">Los tamaños de fotograma admitidos incluyen 640 x 360 ("360p"), 1280 x 720 ("720p") y 1920 x 1080 ("1080p").</span><span class="sxs-lookup"><span data-stu-id="9671a-140">Supported frame sizes include 640x360 ("360p"), 1280x720 ("720p"), and 1920x1080 ("1080p").</span></span> <span data-ttu-id="9671a-141">Los formatos de color admitidos incluyen NV12 (12 bits por píxel) y RGB24 (24 bits por píxel).</span><span class="sxs-lookup"><span data-stu-id="9671a-141">Supported color formats include NV12 (12 bits per pixel) and RGB24 (24 bits per pixel).</span></span>

<span data-ttu-id="9671a-142">Un fotograma de vídeo de "720p" contiene 921 600 píxeles (1280 veces 720).</span><span class="sxs-lookup"><span data-stu-id="9671a-142">A "720p" video frame contains 921,600 pixels (1280 times 720).</span></span> <span data-ttu-id="9671a-143">En el formato de color RGB24, cada píxel se representa como 3 bytes (24 bits) compuesto cada byte por componentes rojo, verde y azul.</span><span class="sxs-lookup"><span data-stu-id="9671a-143">In the RGB24 color format, each pixel is represented as 3 bytes (24-bits) comprised of one byte each of red, green, and blue color components.</span></span> <span data-ttu-id="9671a-144">Por lo tanto, un único fotograma de vídeo RGB24 de 720p requiere 2 764 800 bytes de datos (921 600 veces 3 bytes/píxel).</span><span class="sxs-lookup"><span data-stu-id="9671a-144">Therefore, a single 720p RGB24 video frame requires 2,764,800 bytes of data (921,600 pixels times 3 bytes/pixel).</span></span> <span data-ttu-id="9671a-145">A una velocidad de fotograma de 30fps, enviar fotogramas de vídeo RGB24 de 720p significa procesar aproximadamente 80 MB/s de contenido (que en esencia se comprime con el códec de vídeo H.264 antes de la transmisión de red).</span><span class="sxs-lookup"><span data-stu-id="9671a-145">At a frame rate of 30fps, sending 720p RGB24 video frames means processing approximately 80 MB/s of content (which is substantially compressed by the H.264 video codec before network transmission).</span></span>

## <a name="active-and-dominant-speakers"></a><span data-ttu-id="9671a-146">Interlocutores activos y dominantes</span><span class="sxs-lookup"><span data-stu-id="9671a-146">Active and dominant speakers</span></span>
<span data-ttu-id="9671a-147">Cuando se une a una videollamada grupal en Skype que consta de varios participantes, el bot puede identificar qué participantes están hablando en ese momento.</span><span class="sxs-lookup"><span data-stu-id="9671a-147">When joined to a Skype group video call consisting of multiple participants, the bot can identify which participants are currently speaking.</span></span> <span data-ttu-id="9671a-148">Los **interlocutores activos** identifican qué participantes se escuchan en cada trama de audio recibida.</span><span class="sxs-lookup"><span data-stu-id="9671a-148">**Active speakers** identify which participants are being heard in each received audio frame.</span></span> <span data-ttu-id="9671a-149">Los **interlocutores dominantes** identifican qué participantes son actualmente los más activos (o "dominantes") en la conversación grupal, aunque su voz pueda no oírse en la trama de audio.</span><span class="sxs-lookup"><span data-stu-id="9671a-149">**Dominant speakers** identify which participants are currently most active (or "dominant") in the group conversation, even though their voice may not be heard in every audio frame.</span></span> <span data-ttu-id="9671a-150">El conjunto de interlocutores dominantes puede cambiar a medida que diferentes participantes toman la palabra.</span><span class="sxs-lookup"><span data-stu-id="9671a-150">The set of dominant speakers can change as different participants take turns speaking.</span></span>

## <a name="video-subscription"></a><span data-ttu-id="9671a-151">Suscripción de vídeo</span><span class="sxs-lookup"><span data-stu-id="9671a-151">Video subscription</span></span>
<span data-ttu-id="9671a-152">En una llamada con un único autor de llamada de Skype, el bot recibe automáticamente el vídeo del autor de la llamada (si el bot está habilitado para recibir vídeo principal).</span><span class="sxs-lookup"><span data-stu-id="9671a-152">In a call with a single Skype caller, the bot will automatically receive the video of the caller (if the bot is receive enabled for main video).</span></span> <span data-ttu-id="9671a-153">En una videollamada grupal en Skype con varios participantes, el bot debe indicar a la plataforma multimedia en tiempo real qué participantes quiere ver.</span><span class="sxs-lookup"><span data-stu-id="9671a-153">In a multiparty Skype group video call, the bot must indicate to the real-time media platform which participants it wants to see.</span></span> <span data-ttu-id="9671a-154">Una suscripción de vídeo es una solicitud del bot para recibir el vídeo de un participante.</span><span class="sxs-lookup"><span data-stu-id="9671a-154">A video subscription is a request by the bot to receive a participant’s video.</span></span> <span data-ttu-id="9671a-155">Mientras los participantes de una videollamada grupal llevan a cabo su conversación, un bot puede modificar sus suscripciones de vídeo deseadas basándose en las actualizaciones del conjunto de interlocutores dominantes.</span><span class="sxs-lookup"><span data-stu-id="9671a-155">As the participants in a group video call conduct their conversation, a bot may modify its desired video subscriptions based on updates of the dominant speaker set.</span></span>

## <a name="developer-resources"></a><span data-ttu-id="9671a-156">Recursos para el desarrollador</span><span class="sxs-lookup"><span data-stu-id="9671a-156">Developer resources</span></span> 

### <a name="sdks"></a><span data-ttu-id="9671a-157">SDK</span><span class="sxs-lookup"><span data-stu-id="9671a-157">SDKs</span></span>

<span data-ttu-id="9671a-158">Para desarrollar un bot multimedia en tiempo real, debe instalar estos paquetes NuGet dentro de su proyecto de Visual Studio:</span><span class="sxs-lookup"><span data-stu-id="9671a-158">To develop a real-time media bot, you must install these NuGet packages within your Visual Studio project:</span></span>

- [<span data-ttu-id="9671a-159">Bot Builder SDK para .NET</span><span class="sxs-lookup"><span data-stu-id="9671a-159">Bot Builder SDK for .NET</span></span>](bot-builder-dotnet-overview.md)
- [<span data-ttu-id="9671a-160">Bot Builder Real-Time Media Calling for .NET</span><span class="sxs-lookup"><span data-stu-id="9671a-160">Bot Builder Real-Time Media Calling for .NET</span></span>](https://www.nuget.org/packages?q=Bot.Builder.RealTimeMediaCalling)
- [<span data-ttu-id="9671a-161">Biblioteca .NET Microsoft.Skype.Bots.Media</span><span class="sxs-lookup"><span data-stu-id="9671a-161">Microsoft.Skype.Bots.Media .NET library</span></span>](https://www.nuget.org/packages?q=Microsoft.Skype.Bots.Media)

### <a name="code-samples"></a><span data-ttu-id="9671a-162">Ejemplos de código</span><span class="sxs-lookup"><span data-stu-id="9671a-162">Code samples</span></span>

<span data-ttu-id="9671a-163">El repositorio de GitHub [BotBuilder-RealTimeMediaCalling](https://github.com/Microsoft/BotBuilder-RealTimeMediaCalling) contiene ejemplos que muestran cómo compilar bots multimedia en tiempo real para Skype.</span><span class="sxs-lookup"><span data-stu-id="9671a-163">The [BotBuilder-RealTimeMediaCalling](https://github.com/Microsoft/BotBuilder-RealTimeMediaCalling) GitHub repository contains samples that show how to build real-time media bots for Skype.</span></span>

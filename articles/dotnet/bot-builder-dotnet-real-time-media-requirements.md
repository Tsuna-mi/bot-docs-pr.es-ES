---
title: Requisitos y consideraciones para bots de elementos multimedia en tiempo real | Microsoft Docs
description: Información acerca de los requisitos y las consideraciones importantes relacionados con la creación de bots de elementos multimedia en tiempo real para Skype, usando Bot Builder SDK para. NET.
author: ssulzer
ms.author: ssulzer
manager: kamrani
ms.topic: article
ms.prod: bot-framework
ms.date: 12/13/17
monikerRange: azure-bot-service-3.0
ms.openlocfilehash: 71e04d2c76d6bff22352c6b4e90aae933f209638
ms.sourcegitcommit: f576981342fb3361216675815714e24281e20ddf
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 07/18/2018
ms.locfileid: "39305800"
---
# <a name="requirements-and-considerations-for-real-time-media-bots"></a><span data-ttu-id="06e93-103">Requisitos y consideraciones para bots de elementos multimedia en tiempo real</span><span class="sxs-lookup"><span data-stu-id="06e93-103">Requirements and considerations for real-time media bots</span></span>

<span data-ttu-id="06e93-104">No todas las instrucciones aplicables al desarrollo de bots de mensajería y llamadas IVR se aplican por igual a la creación de bots de elementos multimedia en tiempo real.</span><span class="sxs-lookup"><span data-stu-id="06e93-104">Not all guidance that applies to developing messaging and IVR calling bots applies equally to building real-time media bots.</span></span> <span data-ttu-id="06e93-105">En este artículo se describe algunos de los importantes requisitos y consideraciones para el desarrollo de bots de elementos multimedia en tiempo real.</span><span class="sxs-lookup"><span data-stu-id="06e93-105">This article describes some of the important requirements and considerations for developing real-time media bots.</span></span> 

> [!NOTE]
> <span data-ttu-id="06e93-106">Dado que la plataforma de elementos multimedia en tiempo real para bots es una tecnología de versión preliminar, las instrucciones de este artículo está sujetas a cambios.</span><span class="sxs-lookup"><span data-stu-id="06e93-106">Because the Real-Time Media Platform for Bots is a Preview technology, the guidance in this article is subject to change.</span></span>

## <a name="real-time-media-bot-development-requires-cnet-and-windows-server"></a><span data-ttu-id="06e93-107">El desarrollo de bots de elementos multimedia en tiempo real requiere C# / .NET y Windows Server</span><span class="sxs-lookup"><span data-stu-id="06e93-107">Real-time media bot development requires C#/.NET and Windows Server</span></span>

- <span data-ttu-id="06e93-108">El bot de elementos multimedia en tiempo real requiere la biblioteca `Microsoft.Skype.Bots.Media` para .NET (disponible en <a href="https://www.nuget.org/" target="_blank">NuGet</a>) para acceder a los elementos multimedia de audio y vídeo, y el bot tiene que implementarse en una máquina Windows Server (o un sistema operativo invitado Windows Server en Azure).</span><span class="sxs-lookup"><span data-stu-id="06e93-108">The real-time media bot requires the `Microsoft.Skype.Bots.Media` .NET library (available via <a href="https://www.nuget.org/" target="_blank">NuGet</a>) to access the audio and video media, and the bot must be deployed on a Windows Server machine (or Windows Server guest OS in Azure).</span></span> <span data-ttu-id="06e93-109">Por ello, el bot debe desarrollarse con C# y el estándar de .NET Framework e implementarse en Azure.</span><span class="sxs-lookup"><span data-stu-id="06e93-109">Therefore, the bot should be developed with C# and the Standard .NET Framework, and deployed in Azure.</span></span> <span data-ttu-id="06e93-110">No se pueden usar las API de C++ y Node.js para acceder a los elementos multimedia en tiempo real.</span><span class="sxs-lookup"><span data-stu-id="06e93-110">You cannot use C++ and Node.js APIs to access real-time media.</span></span>

- <span data-ttu-id="06e93-111">El bot de elementos multimedia en tiempo real se tiene que ejecutar en una versión reciente de la biblioteca `Microsoft.Skype.Bots.Media`. NET.</span><span class="sxs-lookup"><span data-stu-id="06e93-111">The real-time media bot must be running on a recent version of the `Microsoft.Skype.Bots.Media` .NET library.</span></span> <span data-ttu-id="06e93-112">El bot debe usar o bien la versión disponible más reciente del paquete <a href="https://www.nuget.org/" target="_blank">NuGet</a>, o una versión que no tenga más de tres meses.</span><span class="sxs-lookup"><span data-stu-id="06e93-112">The bot should use either the newest available version of the <a href="https://www.nuget.org/" target="_blank">NuGet</a> package, or a version which is not more than three months old.</span></span> <span data-ttu-id="06e93-113">Las versiones anteriores de la biblioteca quedarán en desuso y no funcionarán después de unos meses.</span><span class="sxs-lookup"><span data-stu-id="06e93-113">Older versions of the library will be deprecated and will not work after a few months.</span></span>

## <a name="real-time-media-calls-stay-on-the-machine-where-they-were-created"></a><span data-ttu-id="06e93-114">Las llamadas multimedia en tiempo real permanecen en la máquina en la que se crearon</span><span class="sxs-lookup"><span data-stu-id="06e93-114">Real-time media calls stay on the machine where they were created</span></span>

- <span data-ttu-id="06e93-115">Los bots de elementos multimedia en tiempo real tienen un estado.</span><span class="sxs-lookup"><span data-stu-id="06e93-115">Real-time media bots are very stateful.</span></span> <span data-ttu-id="06e93-116">La llamada multimedia en tiempo real está anclada a la instancia de máquina virtual que aceptó la llamada entrante: los elementos multimedia de voz y vídeo del autor de la llamada de Skype fluirán a esa instancia de máquina virtual, y los elementos multimedia que el bot envía de vuelta al autor de la llamada también tienen que originarse en esa misma máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="06e93-116">The real-time media call is pinned to the virtual machine (VM) instance which accepted the incoming call: voice and video media from the Skype caller will flow to that VM instance, and media the bot sends back to the caller must also originate from that VM.</span></span>

- <span data-ttu-id="06e93-117">Si hay una llamada de contenido multimedia en tiempo real en curso, cuando se detiene la máquina virtual, esas llamadas se cortarán de forma abrupta.</span><span class="sxs-lookup"><span data-stu-id="06e93-117">If there are any real-time media calls in progress when the VM is stopped, those calls will be abruptly terminated.</span></span> <span data-ttu-id="06e93-118">Si el bot puede tener conocimiento del cierre pendiente de máquina virtual, puede intentar finalizar las llamadas de forma "elegante".</span><span class="sxs-lookup"><span data-stu-id="06e93-118">If the bot can know of the pending VM shutdown, it can try to "gracefully" end the calls.</span></span>

## <a name="real-time-media-bots-must-be-directly-accessible-on-the-internet"></a><span data-ttu-id="06e93-119">Los bots de elementos multimedia en tiempo real tienen que ser accesibles directamente en Internet</span><span class="sxs-lookup"><span data-stu-id="06e93-119">Real-time media bots must be directly accessible on the Internet</span></span>

- <span data-ttu-id="06e93-120">Cada instancia de máquina virtual que hospeda un bot de elementos multimedia en tiempo real tiene que ser accesible directamente desde Internet.</span><span class="sxs-lookup"><span data-stu-id="06e93-120">Each VM instance hosting a real-time media bot must be directly accessible from the Internet.</span></span> <span data-ttu-id="06e93-121">Para los bots de elementos multimedia en tiempo real hospedados en Azure, cada instancia de máquina virtual tiene que tener una dirección IP pública de nivel de instancia (ILPIP).</span><span class="sxs-lookup"><span data-stu-id="06e93-121">For real-time media bots hosted in Azure, each VM instance must have an instance-level public IP address (ILPIP).</span></span> <span data-ttu-id="06e93-122">Para más información acerca de cómo obtener y configurar una ILPIP, consulte <a href="/azure/virtual-network/virtual-networks-instance-level-public-ip" target="_blank">Introducción a las direcciones IP públicas a nivel de instancia (clásica)</a>.</span><span class="sxs-lookup"><span data-stu-id="06e93-122">For information about obtaining and configuring an ILPIP, see <a href="/azure/virtual-network/virtual-networks-instance-level-public-ip" target="_blank">Instance level public IP (Classic) overview</a>.</span></span> <span data-ttu-id="06e93-123">De forma predeterminada, una suscripción de Azure puede obtener 5 direcciones ILPIP. Póngase en contacto con soporte técnico de Azure para aumentar la cuota de la suscripción.</span><span class="sxs-lookup"><span data-stu-id="06e93-123">By default, an Azure subscription can obtain 5 ILPIP addresses; please contact Azure support to increase your subscription's quota.</span></span>

- <span data-ttu-id="06e93-124">Debido a los requisitos de la dirección IP pública, los bots de elementos multimedia en tiempo real tienen que hospedarse en una instancia de Azure Virtual Machine "IaaS" o en una instancia "clásica" de Azure Cloud Service.</span><span class="sxs-lookup"><span data-stu-id="06e93-124">Because of the public IP address requirement, real-time media bots must be hosted in either an "IaaS" Azure Virtual Machine, or a "classic" Azure Cloud Service.</span></span> <span data-ttu-id="06e93-125">Otros entornos en tiempo de ejecución, como Bot Service o Service Fabric con Virtual Machine Scale Sets, no se admiten, ya que no son compatibles con ILPIP.</span><span class="sxs-lookup"><span data-stu-id="06e93-125">Other runtime environments, such as Bot Service or Service Fabric with VM Scale Sets, are not supported, as these do not support ILPIP.</span></span>

- <span data-ttu-id="06e93-126">Los bots de elementos multimedia en tiempo real tampoco son compatibles con [Bot Framework Emulator](../bot-service-debug-emulator.md).</span><span class="sxs-lookup"><span data-stu-id="06e93-126">Real-time media bots are also not supported by the [Bot Framework Emulator](../bot-service-debug-emulator.md).</span></span>

## <a name="scalability-and-performance-considerations"></a><span data-ttu-id="06e93-127">Consideraciones de escalabilidad y rendimiento</span><span class="sxs-lookup"><span data-stu-id="06e93-127">Scalability and performance considerations</span></span>

- <span data-ttu-id="06e93-128">Los bots de elementos multimedia en tiempo real requieren más capacidad de proceso y de red (ancho de banda) que los bots de mensajería y pueden incurrir en costos operativos significativamente mayores.</span><span class="sxs-lookup"><span data-stu-id="06e93-128">Real-time media bots require more compute and network (bandwidth) capacity than messaging bots and may incur significantly higher operational costs.</span></span> <span data-ttu-id="06e93-129">Un desarrollador de bot de elementos multimedia en tiempo real tiene que medir con cuidado la escalabilidad del bot y asegúrese de que el bot no acepta más llamadas simultáneas de las que puede administrar.</span><span class="sxs-lookup"><span data-stu-id="06e93-129">A real-time media bot developer must carefully measure the bot's scalability, and ensure the bot does not accept more simultaneous calls than it can manage.</span></span> <span data-ttu-id="06e93-130">Un bot con vídeo habilitado puede tener capacidad para mantener solo una o dos llamadas multimedia en tiempo real simultáneas por núcleo de CPU.</span><span class="sxs-lookup"><span data-stu-id="06e93-130">A video-enabled bot may be able to sustain only one or two concurrent real-time media calls per CPU core.</span></span>

- <span data-ttu-id="06e93-131">La versión preliminar actual de la plataforma de elementos multimedia en tiempo real para bots tiene ciertas limitaciones de escalabilidad que los desarrolladores de bots deben tener en cuenta (estas limitaciones pueden mejorarse en futuras versiones):</span><span class="sxs-lookup"><span data-stu-id="06e93-131">The current Preview release of Real-Time Media Platform for Bots has certain scalability limitations the bot developer must be aware of (these may be improved in future releases):</span></span> 
  1. <span data-ttu-id="06e93-132">Una única instancia de máquina virtual no puede tener más de 10 sockets de vídeo creados en cualquier momento en el tiempo.</span><span class="sxs-lookup"><span data-stu-id="06e93-132">A single VM instance may not have more than 10 video sockets created at any single time.</span></span>
  2. <span data-ttu-id="06e93-133">La plataforma de elementos multimedia en tiempo real no aprovecha en la actualidad ninguna unidad de procesamiento gráfico (GPU) que esté disponible en la máquina virtual para descargar H.264 para codificación y descodificación de vídeo.</span><span class="sxs-lookup"><span data-stu-id="06e93-133">The Real-Time Media Platform does not currently take advantage of any Graphics Processing Unit (GPU) available on the VM to off-load H.264 video encoding/decoding.</span></span> <span data-ttu-id="06e93-134">En su lugar, la codificación y descodificación de vídeo se realiza en software en la CPU.</span><span class="sxs-lookup"><span data-stu-id="06e93-134">Instead, video encode and decode are done in software on the CPU.</span></span> <span data-ttu-id="06e93-135">Si una GPU está disponible, el bot puede aprovecharla para su propia representación gráfica (por ejemplo, si el bot usa un motor de gráficos 3D).</span><span class="sxs-lookup"><span data-stu-id="06e93-135">If a GPU is available, the bot may take advantage of it for its own graphics rendering (e.g., if the bot is using a 3D graphics engine).</span></span>

- <span data-ttu-id="06e93-136">La instancia de máquina virtual que hospeda el bot de elementos multimedia en tiempo real tiene que tener al menos 2 núcleos de CPU.</span><span class="sxs-lookup"><span data-stu-id="06e93-136">The VM instance hosting the real-time media bot must have at least 2 CPU cores.</span></span> <span data-ttu-id="06e93-137">Para Azure, se recomienda una máquina virtual de serie Dv2.</span><span class="sxs-lookup"><span data-stu-id="06e93-137">For Azure, a Dv2-series virtual machine is recommended.</span></span> <span data-ttu-id="06e93-138">La información detallada sobre los tipos de máquina virtual de Azure está disponible en la <a href="/azure/virtual-machines/windows/sizes-general" target="_blank">documentación de Azure</a>.</span><span class="sxs-lookup"><span data-stu-id="06e93-138">Detailed information about Azure VM types is available in the <a href="/azure/virtual-machines/windows/sizes-general" target="_blank">Azure documentation</a>.</span></span> 
